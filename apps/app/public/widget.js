var FeedbackWidget=(function(ze){"use strict";var Qe,k,Rr,ge,Tr,Pr,Ar,Nr,Pt,At,Nt,Ir,Fe={},Mr=[],ui=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ve=Array.isArray;function Y(t,e){for(var r in e)t[r]=e[r];return t}function It(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function V(t,e,r){var n,o,i,s={};for(i in e)i=="key"?n=e[i]:i=="ref"?o=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?Qe.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)s[i]===void 0&&(s[i]=t.defaultProps[i]);return je(t,s,n,o,null)}function je(t,e,r,n,o){var i={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Rr,__i:-1,__u:0};return o==null&&k.vnode!=null&&k.vnode(i),i}function Er(){return{current:null}}function J(t){return t.children}function K(t,e){this.props=t,this.context=e}function xe(t,e){if(e==null)return t.__?xe(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?xe(t):null}function qr(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return qr(t)}}function Mt(t){(!t.__d&&(t.__d=!0)&&ge.push(t)&&!ot.__r++||Tr!=k.debounceRendering)&&((Tr=k.debounceRendering)||Pr)(ot)}function ot(){for(var t,e,r,n,o,i,s,a=1;ge.length;)ge.length>a&&ge.sort(Ar),t=ge.shift(),a=ge.length,t.__d&&(r=void 0,n=void 0,o=(n=(e=t).__v).__e,i=[],s=[],e.__P&&((r=Y({},n)).__v=n.__v+1,k.vnode&&k.vnode(r),Et(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[o]:null,i,o??xe(n),!!(32&n.__u),s),r.__v=n.__v,r.__.__k[r.__i]=r,Qr(i,r,s),n.__e=n.__=null,r.__e!=o&&qr(r)));ot.__r=0}function Or(t,e,r,n,o,i,s,a,c,l,f){var u,p,h,g,_,x,S,R=n&&n.__k||Mr,L=e.length;for(c=di(r,e,R,c,L),u=0;u<L;u++)(h=r.__k[u])!=null&&(p=h.__i==-1?Fe:R[h.__i]||Fe,h.__i=u,x=Et(t,h,p,o,i,s,a,c,l,f),g=h.__e,h.ref&&p.ref!=h.ref&&(p.ref&&Ot(p.ref,null,h),f.push(h.ref,h.__c||g,h)),_==null&&g!=null&&(_=g),(S=!!(4&h.__u))||p.__k===h.__k?c=Lr(h,c,t,S):typeof h.type=="function"&&x!==void 0?c=x:g&&(c=g.nextSibling),h.__u&=-7);return r.__e=_,c}function di(t,e,r,n,o){var i,s,a,c,l,f=r.length,u=f,p=0;for(t.__k=new Array(o),i=0;i<o;i++)(s=e[i])!=null&&typeof s!="boolean"&&typeof s!="function"?(typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?s=t.__k[i]=je(null,s,null,null,null):Ve(s)?s=t.__k[i]=je(J,{children:s},null,null,null):s.constructor==null&&s.__b>0?s=t.__k[i]=je(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):t.__k[i]=s,c=i+p,s.__=t,s.__b=t.__b+1,(l=s.__i=hi(s,r,c,u))!=-1&&(u--,(a=r[l])&&(a.__u|=2)),a==null||a.__v==null?(l==-1&&(o>f?p--:o<f&&p++),typeof s.type!="function"&&(s.__u|=4)):l!=c&&(l==c-1?p--:l==c+1?p++:(l>c?p--:p++,s.__u|=4))):t.__k[i]=null;if(u)for(i=0;i<f;i++)(a=r[i])!=null&&(2&a.__u)==0&&(a.__e==n&&(n=xe(a)),Vr(a,a));return n}function Lr(t,e,r,n){var o,i;if(typeof t.type=="function"){for(o=t.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=t,e=Lr(o[i],e,r,n));return e}t.__e!=e&&(n&&(e&&t.type&&!e.parentNode&&(e=xe(t)),r.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function ne(t,e){return e=e||[],t==null||typeof t=="boolean"||(Ve(t)?t.some(function(r){ne(r,e)}):e.push(t)),e}function hi(t,e,r,n){var o,i,s,a=t.key,c=t.type,l=e[r],f=l!=null&&(2&l.__u)==0;if(l===null&&a==null||f&&a==l.key&&c==l.type)return r;if(n>(f?1:0)){for(o=r-1,i=r+1;o>=0||i<e.length;)if((l=e[s=o>=0?o--:i++])!=null&&(2&l.__u)==0&&a==l.key&&c==l.type)return s}return-1}function Ur(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||ui.test(e)?r:r+"px"}function it(t,e,r,n,o){var i,s;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Ur(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||Ur(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")i=e!=(e=e.replace(Nr,"$1")),s=e.toLowerCase(),e=s in t||e=="onFocusOut"||e=="onFocusIn"?s.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?n?r.u=n.u:(r.u=Pt,t.addEventListener(e,i?Nt:At,i)):t.removeEventListener(e,i?Nt:At,i);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function zr(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=Pt++;else if(e.t<r.u)return;return r(k.event?k.event(e):e)}}}function Et(t,e,r,n,o,i,s,a,c,l){var f,u,p,h,g,_,x,S,R,L,q,X,j,pe,v,U,Le,B=e.type;if(e.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),i=[a=e.__e=r.__e]),(f=k.__b)&&f(e);e:if(typeof B=="function")try{if(S=e.props,R="prototype"in B&&B.prototype.render,L=(f=B.contextType)&&n[f.__c],q=f?L?L.props.value:f.__:n,r.__c?x=(u=e.__c=r.__c).__=u.__E:(R?e.__c=u=new B(S,q):(e.__c=u=new K(S,q),u.constructor=B,u.render=pi),L&&L.sub(u),u.state||(u.state={}),u.__n=n,p=u.__d=!0,u.__h=[],u._sb=[]),R&&u.__s==null&&(u.__s=u.state),R&&B.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Y({},u.__s)),Y(u.__s,B.getDerivedStateFromProps(S,u.__s))),h=u.props,g=u.state,u.__v=e,p)R&&B.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),R&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(R&&B.getDerivedStateFromProps==null&&S!==h&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(S,q),e.__v==r.__v||!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(S,u.__s,q)===!1){for(e.__v!=r.__v&&(u.props=S,u.state=u.__s,u.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(Z){Z&&(Z.__=e)}),X=0;X<u._sb.length;X++)u.__h.push(u._sb[X]);u._sb=[],u.__h.length&&s.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(S,u.__s,q),R&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(h,g,_)})}if(u.context=q,u.props=S,u.__P=t,u.__e=!1,j=k.__r,pe=0,R){for(u.state=u.__s,u.__d=!1,j&&j(e),f=u.render(u.props,u.state,u.context),v=0;v<u._sb.length;v++)u.__h.push(u._sb[v]);u._sb=[]}else do u.__d=!1,j&&j(e),f=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++pe<25);u.state=u.__s,u.getChildContext!=null&&(n=Y(Y({},n),u.getChildContext())),R&&!p&&u.getSnapshotBeforeUpdate!=null&&(_=u.getSnapshotBeforeUpdate(h,g)),U=f,f!=null&&f.type===J&&f.key==null&&(U=Fr(f.props.children)),a=Or(t,Ve(U)?U:[U],e,r,n,o,i,s,a,c,l),u.base=e.__e,e.__u&=-161,u.__h.length&&s.push(u),x&&(u.__E=u.__=null)}catch(Z){if(e.__v=null,c||i!=null)if(Z.then){for(e.__u|=c?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;i[i.indexOf(a)]=null,e.__e=a}else{for(Le=i.length;Le--;)It(i[Le]);qt(e)}else e.__e=r.__e,e.__k=r.__k,Z.then||qt(e);k.__e(Z,e,r)}else i==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):a=e.__e=fi(r.__e,e,r,n,o,i,s,c,l);return(f=k.diffed)&&f(e),128&e.__u?void 0:a}function qt(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(qt)}function Qr(t,e,r){for(var n=0;n<r.length;n++)Ot(r[n],r[++n],r[++n]);k.__c&&k.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(i){i.call(o)})}catch(i){k.__e(i,o.__v)}})}function Fr(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Ve(t)?t.map(Fr):Y({},t)}function fi(t,e,r,n,o,i,s,a,c){var l,f,u,p,h,g,_,x=r.props||Fe,S=e.props,R=e.type;if(R=="svg"?o="http://www.w3.org/2000/svg":R=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(l=0;l<i.length;l++)if((h=i[l])&&"setAttribute"in h==!!R&&(R?h.localName==R:h.nodeType==3)){t=h,i[l]=null;break}}if(t==null){if(R==null)return document.createTextNode(S);t=document.createElementNS(o,R,S.is&&S),a&&(k.__m&&k.__m(e,i),a=!1),i=null}if(R==null)x===S||a&&t.data==S||(t.data=S);else{if(i=i&&Qe.call(t.childNodes),!a&&i!=null)for(x={},l=0;l<t.attributes.length;l++)x[(h=t.attributes[l]).name]=h.value;for(l in x)if(h=x[l],l!="children"){if(l=="dangerouslySetInnerHTML")u=h;else if(!(l in S)){if(l=="value"&&"defaultValue"in S||l=="checked"&&"defaultChecked"in S)continue;it(t,l,null,h,o)}}for(l in S)h=S[l],l=="children"?p=h:l=="dangerouslySetInnerHTML"?f=h:l=="value"?g=h:l=="checked"?_=h:a&&typeof h!="function"||x[l]===h||it(t,l,h,x[l],o);if(f)a||u&&(f.__html==u.__html||f.__html==t.innerHTML)||(t.innerHTML=f.__html),e.__k=[];else if(u&&(t.innerHTML=""),Or(e.type=="template"?t.content:t,Ve(p)?p:[p],e,r,n,R=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,s,i?i[0]:r.__k&&xe(r,0),a,c),i!=null)for(l=i.length;l--;)It(i[l]);a||(l="value",R=="progress"&&g==null?t.removeAttribute("value"):g!=null&&(g!==t[l]||R=="progress"&&!g||R=="option"&&g!=x[l])&&it(t,l,g,x[l],o),l="checked",_!=null&&_!=t[l]&&it(t,l,_,x[l],o))}return t}function Ot(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(o){k.__e(o,r)}}function Vr(t,e,r){var n,o;if(k.unmount&&k.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||Ot(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){k.__e(i,e)}n.base=n.__P=null}if(n=t.__k)for(o=0;o<n.length;o++)n[o]&&Vr(n[o],e,r||typeof t.type!="function");r||It(t.__e),t.__c=t.__=t.__e=void 0}function pi(t,e,r){return this.constructor(t,r)}function Be(t,e,r){var n,o,i,s;e==document&&(e=document.documentElement),k.__&&k.__(t,e),o=(n=typeof r=="function")?null:r&&r.__k||e.__k,i=[],s=[],Et(e,t=(!n&&r||e).__k=V(J,null,[t]),o||Fe,Fe,e.namespaceURI,!n&&r?[r]:o?null:e.firstChild?Qe.call(e.childNodes):null,i,!n&&r?r:o?o.__e:e.firstChild,n,s),Qr(i,t,s)}function jr(t,e){Be(t,e,jr)}function gi(t,e,r){var n,o,i,s,a=Y({},t.props);for(i in t.type&&t.type.defaultProps&&(s=t.type.defaultProps),e)i=="key"?n=e[i]:i=="ref"?o=e[i]:a[i]=e[i]===void 0&&s!=null?s[i]:e[i];return arguments.length>2&&(a.children=arguments.length>3?Qe.call(arguments,2):r),je(t.type,a,n||t.key,o||t.ref,null)}function Br(t){function e(r){var n,o;return this.getChildContext||(n=new Set,(o={})[e.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(i){this.props.value!=i.value&&n.forEach(function(s){s.__e=!0,Mt(s)})},this.sub=function(i){n.add(i);var s=i.componentWillUnmount;i.componentWillUnmount=function(){n&&n.delete(i),s&&s.call(i)}}),r.children}return e.__c="__cC"+Ir++,e.__=t,e.Provider=e.__l=(e.Consumer=function(r,n){return r.children(n)}).contextType=e,e}Qe=Mr.slice,k={__e:function(t,e,r,n){for(var o,i,s;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(t)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,n||{}),s=o.__d),s)return o.__E=o}catch(a){t=a}throw t}},Rr=0,K.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Y({},this.state),typeof t=="function"&&(t=t(Y({},r),this.props)),t&&Y(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Mt(this))},K.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Mt(this))},K.prototype.render=J,ge=[],Pr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ar=function(t,e){return t.__v.__b-e.__v.__b},ot.__r=0,Nr=/(PointerCapture)$|Capture$/i,Pt=0,At=zr(!1),Nt=zr(!0),Ir=0;var mi=0;function d(t,e,r,n,o,i){e||(e={});var s,a,c=e;if("ref"in c)for(a in c={},e)a=="ref"?s=e[a]:c[a]=e[a];var l={type:t,props:c,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--mi,__i:-1,__u:0,__source:o,__self:i};if(typeof t=="function"&&(s=t.defaultProps))for(a in s)c[a]===void 0&&(c[a]=s[a]);return k.vnode&&k.vnode(l),l}var oe,T,Lt,Dr,ke=0,Wr=[],A=k,Gr=A.__b,Hr=A.__r,Jr=A.diffed,Kr=A.__c,Xr=A.unmount,Zr=A.__;function me(t,e){A.__h&&A.__h(T,t,ke||e),ke=0;var r=T.__H||(T.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function W(t){return ke=1,st(en,t)}function st(t,e,r){var n=me(oe++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):en(void 0,e),function(a){var c=n.__N?n.__N[0]:n.__[0],l=n.t(c,a);c!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=T,!T.__f)){var o=function(a,c,l){if(!n.__c.__H)return!0;var f=n.__c.__H.__.filter(function(p){return!!p.__c});if(f.every(function(p){return!p.__N}))return!i||i.call(this,a,c,l);var u=n.__c.props!==a;return f.forEach(function(p){if(p.__N){var h=p.__[0];p.__=p.__N,p.__N=void 0,h!==p.__[0]&&(u=!0)}}),i&&i.call(this,a,c,l)||u};T.__f=!0;var i=T.shouldComponentUpdate,s=T.componentWillUpdate;T.componentWillUpdate=function(a,c,l){if(this.__e){var f=i;i=void 0,o(a,c,l),i=f}s&&s.call(this,a,c,l)},T.shouldComponentUpdate=o}return n.__N||n.__}function de(t,e){var r=me(oe++,3);!A.__s&&Bt(r.__H,e)&&(r.__=t,r.u=e,T.__H.__h.push(r))}function Se(t,e){var r=me(oe++,4);!A.__s&&Bt(r.__H,e)&&(r.__=t,r.u=e,T.__h.push(r))}function Ut(t){return ke=5,ie(function(){return{current:t}},[])}function zt(t,e,r){ke=6,Se(function(){if(typeof t=="function"){var n=t(e());return function(){t(null),n&&typeof n=="function"&&n()}}if(t)return t.current=e(),function(){return t.current=null}},r==null?r:r.concat(t))}function ie(t,e){var r=me(oe++,7);return Bt(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function Qt(t,e){return ke=8,ie(function(){return t},e)}function De(t){var e=T.context[t.__c],r=me(oe++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(T)),e.props.value):t.__}function Ft(t,e){A.useDebugValue&&A.useDebugValue(e?e(t):t)}function yi(t){var e=me(oe++,10),r=W();return e.__=t,T.componentDidCatch||(T.componentDidCatch=function(n,o){e.__&&e.__(n,o),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Vt(){var t=me(oe++,11);if(!t.__){for(var e=T.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function bi(){for(var t;t=Wr.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(at),t.__H.__h.forEach(jt),t.__H.__h=[]}catch(e){t.__H.__h=[],A.__e(e,t.__v)}}A.__b=function(t){T=null,Gr&&Gr(t)},A.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Zr&&Zr(t,e)},A.__r=function(t){Hr&&Hr(t),oe=0;var e=(T=t.__c).__H;e&&(Lt===T?(e.__h=[],T.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(at),e.__h.forEach(jt),e.__h=[],oe=0)),Lt=T},A.diffed=function(t){Jr&&Jr(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Wr.push(e)!==1&&Dr===A.requestAnimationFrame||((Dr=A.requestAnimationFrame)||vi)(bi)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),Lt=T=null},A.__c=function(t,e){e.some(function(r){try{r.__h.forEach(at),r.__h=r.__h.filter(function(n){return!n.__||jt(n)})}catch(n){e.some(function(o){o.__h&&(o.__h=[])}),e=[],A.__e(n,r.__v)}}),Kr&&Kr(t,e)},A.unmount=function(t){Xr&&Xr(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{at(n)}catch(o){e=o}}),r.__H=void 0,e&&A.__e(e,r.__v))};var Yr=typeof requestAnimationFrame=="function";function vi(t){var e,r=function(){clearTimeout(n),Yr&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,35);Yr&&(e=requestAnimationFrame(r))}function at(t){var e=T,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),T=e}function jt(t){var e=T;t.__c=t.__(),T=e}function Bt(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function en(t,e){return typeof e=="function"?e(t):e}function tn(t,e){for(var r in e)t[r]=e[r];return t}function Dt(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function Wt(t,e){var r=e(),n=W({t:{__:r,u:e}}),o=n[0].t,i=n[1];return Se(function(){o.__=r,o.u=e,Gt(o)&&i({t:o})},[t,r,e]),de(function(){return Gt(o)&&i({t:o}),t(function(){Gt(o)&&i({t:o})})},[t]),r}function Gt(t){var e,r,n=t.u,o=t.__;try{var i=n();return!((e=o)===(r=i)&&(e!==0||1/e==1/r)||e!=e&&r!=r)}catch{return!0}}function Ht(t){t()}function Jt(t){return t}function Kt(){return[!1,Ht]}var Xt=Se;function ct(t,e){this.props=t,this.context=e}function rn(t,e){function r(o){var i=this.props.ref,s=i==o.ref;return!s&&i&&(i.call?i(null):i.current=null),e?!e(this.props,o)||!s:Dt(this.props,o)}function n(o){return this.shouldComponentUpdate=r,V(t,o)}return n.displayName="Memo("+(t.displayName||t.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n.type=t,n}(ct.prototype=new K).isPureReactComponent=!0,ct.prototype.shouldComponentUpdate=function(t,e){return Dt(this.props,t)||Dt(this.state,e)};var nn=k.__b;k.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),nn&&nn(t)};var wi=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function he(t){function e(r){var n=tn({},r);return delete n.ref,t(n,r.ref||null)}return e.$$typeof=wi,e.render=t,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var on=function(t,e){return t==null?null:ne(ne(t).map(e))},ye={map:on,forEach:on,count:function(t){return t?ne(t).length:0},only:function(t){var e=ne(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:ne},_i=k.__e;k.__e=function(t,e,r,n){if(t.then){for(var o,i=e;i=i.__;)if((o=i.__c)&&o.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),o.__c(t,e)}_i(t,e,r,n)};var sn=k.unmount;function an(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=tn({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return an(n,e,r)})),t}function cn(t,e,r){return t&&r&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return cn(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=r)),t}function We(){this.__u=0,this.o=null,this.__b=null}function ln(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function un(t){var e,r,n,o=null;function i(s){if(e||(e=t()).then(function(a){a&&(o=a.default||a),n=!0},function(a){r=a,n=!0}),r)throw r;if(!n)throw e;return o?V(o,s):null}return i.displayName="Lazy",i.__f=!0,i}function $e(){this.i=null,this.l=null}k.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),sn&&sn(t)},(We.prototype=new K).__c=function(t,e){var r=e.__c,n=this;n.o==null&&(n.o=[]),n.o.push(r);var o=ln(n.__v),i=!1,s=function(){i||(i=!0,r.__R=null,o?o(a):a())};r.__R=s;var a=function(){if(!--n.__u){if(n.state.__a){var c=n.state.__a;n.__v.__k[0]=cn(c,c.__c.__P,c.__c.__O)}var l;for(n.setState({__a:n.__b=null});l=n.o.pop();)l.forceUpdate()}};n.__u++||32&e.__u||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(s,s)},We.prototype.componentWillUnmount=function(){this.o=[]},We.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=an(this.__b,r,n.__O=n.__P)}this.__b=null}var o=e.__a&&V(J,null,t.fallback);return o&&(o.__u&=-33),[V(J,null,e.__a?null:t.children),o]};var dn=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};function xi(t){return this.getChildContext=function(){return t.context},t.children}function ki(t){var e=this,r=t.h;if(e.componentWillUnmount=function(){Be(null,e.v),e.v=null,e.h=null},e.h&&e.h!==r&&e.componentWillUnmount(),!e.v){for(var n=e.__v;n!==null&&!n.__m&&n.__!==null;)n=n.__;e.h=r,e.v={nodeType:1,parentNode:r,childNodes:[],__k:{__m:n.__m},contains:function(){return!0},insertBefore:function(o,i){this.childNodes.push(o),e.h.insertBefore(o,i)},removeChild:function(o){this.childNodes.splice(this.childNodes.indexOf(o)>>>1,1),e.h.removeChild(o)}}}Be(V(xi,{context:e.context},t.__v),e.v)}function hn(t,e){var r=V(ki,{__v:t,h:e});return r.containerInfo=e,r}($e.prototype=new K).__a=function(t){var e=this,r=ln(e.__v),n=e.l.get(t);return n[0]++,function(o){var i=function(){e.props.revealOrder?(n.push(o),dn(e,t,n)):o()};r?r(i):i()}},$e.prototype.render=function(t){this.i=null,this.l=new Map;var e=ne(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},$e.prototype.componentDidUpdate=$e.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,r){dn(t,r,e)})};var fn=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Si=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$i=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ci=/[A-Z0-9]/g,Ri=typeof document<"u",Ti=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function Zt(t,e,r){return e.__k==null&&(e.textContent=""),Be(t,e),typeof r=="function"&&r(),t?t.__c:null}function Yt(t,e,r){return jr(t,e),typeof r=="function"&&r(),t?t.__c:null}K.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(K.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var pn=k.event;function Pi(){}function Ai(){return this.cancelBubble}function Ni(){return this.defaultPrevented}k.event=function(t){return pn&&(t=pn(t)),t.persist=Pi,t.isPropagationStopped=Ai,t.isDefaultPrevented=Ni,t.nativeEvent=t};var er,Ii={enumerable:!1,configurable:!0,get:function(){return this.class}},gn=k.vnode;k.vnode=function(t){typeof t.type=="string"&&(function(e){var r=e.props,n=e.type,o={},i=n.indexOf("-")===-1;for(var s in r){var a=r[s];if(!(s==="value"&&"defaultValue"in r&&a==null||Ri&&s==="children"&&n==="noscript"||s==="class"||s==="className")){var c=s.toLowerCase();s==="defaultValue"&&"value"in r&&r.value==null?s="value":s==="download"&&a===!0?a="":c==="translate"&&a==="no"?a=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?s="ondblclick":c!=="onchange"||n!=="input"&&n!=="textarea"||Ti(r.type)?c==="onfocus"?s="onfocusin":c==="onblur"?s="onfocusout":$i.test(s)&&(s=c):c=s="oninput":i&&Si.test(s)?s=s.replace(Ci,"-$&").toLowerCase():a===null&&(a=void 0),c==="oninput"&&o[s=c]&&(s="oninputCapture"),o[s]=a}}n=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=ne(r.children).forEach(function(l){l.props.selected=o.value.indexOf(l.props.value)!=-1})),n=="select"&&o.defaultValue!=null&&(o.value=ne(r.children).forEach(function(l){l.props.selected=o.multiple?o.defaultValue.indexOf(l.props.value)!=-1:o.defaultValue==l.props.value})),r.class&&!r.className?(o.class=r.class,Object.defineProperty(o,"className",Ii)):(r.className&&!r.class||r.class&&r.className)&&(o.class=o.className=r.className),e.props=o})(t),t.$$typeof=fn,gn&&gn(t)};var mn=k.__r;k.__r=function(t){mn&&mn(t),er=t.__c};var yn=k.diffed;k.diffed=function(t){yn&&yn(t);var e=t.props,r=t.__e;r!=null&&t.type==="textarea"&&"value"in e&&e.value!==r.value&&(r.value=e.value==null?"":e.value),er=null};var bn={ReactCurrentDispatcher:{current:{readContext:function(t){return er.__n[t.__c].props.value},useCallback:Qt,useContext:De,useDebugValue:Ft,useDeferredValue:Jt,useEffect:de,useId:Vt,useImperativeHandle:zt,useInsertionEffect:Xt,useLayoutEffect:Se,useMemo:ie,useReducer:st,useRef:Ut,useState:W,useSyncExternalStore:Wt,useTransition:Kt}}},Mi="18.3.1";function vn(t){return V.bind(null,t)}function se(t){return!!t&&t.$$typeof===fn}function wn(t){return se(t)&&t.type===J}function _n(t){return!!t&&!!t.displayName&&(typeof t.displayName=="string"||t.displayName instanceof String)&&t.displayName.startsWith("Memo(")}function lt(t){return se(t)?gi.apply(null,arguments):t}function tr(t){return!!t.__k&&(Be(null,t),!0)}function xn(t){return t&&(t.base||t.nodeType===1&&t)||null}var kn=function(t,e){return t(e)},Sn=function(t,e){return t(e)},$n=J,Cn=se,ut={useState:W,useId:Vt,useReducer:st,useEffect:de,useLayoutEffect:Se,useInsertionEffect:Xt,useTransition:Kt,useDeferredValue:Jt,useSyncExternalStore:Wt,startTransition:Ht,useRef:Ut,useImperativeHandle:zt,useMemo:ie,useCallback:Qt,useContext:De,useDebugValue:Ft,version:"18.3.1",Children:ye,render:Zt,hydrate:Yt,unmountComponentAtNode:tr,createPortal:hn,createElement:V,createContext:Br,createFactory:vn,cloneElement:lt,createRef:Er,Fragment:J,isValidElement:se,isElement:Cn,isFragment:wn,isMemo:_n,findDOMNode:xn,Component:K,PureComponent:ct,memo:rn,forwardRef:he,flushSync:Sn,unstable_batchedUpdates:kn,StrictMode:$n,Suspense:We,SuspenseList:$e,lazy:un,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:bn};const Ei=Object.freeze(Object.defineProperty({__proto__:null,Children:ye,Component:K,Fragment:J,PureComponent:ct,StrictMode:$n,Suspense:We,SuspenseList:$e,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:bn,cloneElement:lt,createContext:Br,createElement:V,createFactory:vn,createPortal:hn,createRef:Er,default:ut,findDOMNode:xn,flushSync:Sn,forwardRef:he,hydrate:Yt,isElement:Cn,isFragment:wn,isMemo:_n,isValidElement:se,lazy:un,memo:rn,render:Zt,startTransition:Ht,unmountComponentAtNode:tr,unstable_batchedUpdates:kn,useCallback:Qt,useContext:De,useDebugValue:Ft,useDeferredValue:Jt,useEffect:de,useErrorBoundary:yi,useId:Vt,useImperativeHandle:zt,useInsertionEffect:Xt,useLayoutEffect:Se,useMemo:ie,useReducer:st,useRef:Ut,useState:W,useSyncExternalStore:Wt,useTransition:Kt,version:Mi},Symbol.toStringTag,{value:"Module"}));for(var ee=[],G=[],qi=Uint8Array,rr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ce=0,Oi=rr.length;Ce<Oi;++Ce)ee[Ce]=rr[Ce],G[rr.charCodeAt(Ce)]=Ce;G[45]=62,G[95]=63;function Li(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Ui(t,e,r){return(e+r)*3/4-r}function Ge(t){var e,r=Li(t),n=r[0],o=r[1],i=new qi(Ui(t,n,o)),s=0,a=o>0?n-4:n,c;for(c=0;c<a;c+=4)e=G[t.charCodeAt(c)]<<18|G[t.charCodeAt(c+1)]<<12|G[t.charCodeAt(c+2)]<<6|G[t.charCodeAt(c+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=e&255;return o===2&&(e=G[t.charCodeAt(c)]<<2|G[t.charCodeAt(c+1)]>>4,i[s++]=e&255),o===1&&(e=G[t.charCodeAt(c)]<<10|G[t.charCodeAt(c+1)]<<4|G[t.charCodeAt(c+2)]>>2,i[s++]=e>>8&255,i[s++]=e&255),i}function zi(t){return ee[t>>18&63]+ee[t>>12&63]+ee[t>>6&63]+ee[t&63]}function Qi(t,e,r){for(var n,o=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),o.push(zi(n));return o.join("")}function He(t){for(var e,r=t.length,n=r%3,o=[],i=16383,s=0,a=r-n;s<a;s+=i)o.push(Qi(t,s,s+i>a?a:s+i));return n===1?(e=t[r-1],o.push(ee[e>>2]+ee[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(ee[e>>10]+ee[e>>4&63]+ee[e<<2&63]+"=")),o.join("")}function ae(t){if(t===void 0)return{};if(!Rn(t))throw new Error(`The arguments to a Convex function must be an object. Received: ${t}`);return t}function Fi(t){if(typeof t>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof t!="string")throw new Error(`Invalid deployment address: found ${t}".`);if(!(t.startsWith("http:")||t.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${t}".`);try{new URL(t)}catch{throw new Error(`Invalid deployment address: "${t}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(t.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${t}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function Rn(t){var o;const e=typeof t=="object",r=Object.getPrototypeOf(t),n=r===null||r===Object.prototype||((o=r==null?void 0:r.constructor)==null?void 0:o.name)==="Object";return e&&n}const Tn=!0,Re=BigInt("-9223372036854775808"),nr=BigInt("9223372036854775807"),or=BigInt("0"),Vi=BigInt("8"),ji=BigInt("256");function Pn(t){return Number.isNaN(t)||!Number.isFinite(t)||Object.is(t,-0)}function Bi(t){t<or&&(t-=Re+Re);let e=t.toString(16);e.length%2===1&&(e="0"+e);const r=new Uint8Array(new ArrayBuffer(8));let n=0;for(const o of e.match(/.{2}/g).reverse())r.set([parseInt(o,16)],n++),t>>=Vi;return He(r)}function Di(t){const e=Ge(t);if(e.byteLength!==8)throw new Error(`Received ${e.byteLength} bytes, expected 8 for $integer`);let r=or,n=or;for(const o of e)r+=BigInt(o)*ji**n,n++;return r>nr&&(r+=Re+Re),r}function Wi(t){if(t<Re||nr<t)throw new Error(`BigInt ${t} does not fit into a 64-bit signed integer.`);const e=new ArrayBuffer(8);return new DataView(e).setBigInt64(0,t,!0),He(new Uint8Array(e))}function Gi(t){const e=Ge(t);if(e.byteLength!==8)throw new Error(`Received ${e.byteLength} bytes, expected 8 for $integer`);return new DataView(e.buffer).getBigInt64(0,!0)}const Hi=DataView.prototype.setBigInt64?Wi:Bi,Ji=DataView.prototype.getBigInt64?Gi:Di,An=1024;function Nn(t){if(t.length>An)throw new Error(`Field name ${t} exceeds maximum field name length ${An}.`);if(t.startsWith("$"))throw new Error(`Field name ${t} starts with a '$', which is reserved.`);for(let e=0;e<t.length;e+=1){const r=t.charCodeAt(e);if(r<32||r>=127)throw new Error(`Field name ${t} has invalid character '${t[e]}': Field names can only contain non-control ASCII characters`)}}function Te(t){if(t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string")return t;if(Array.isArray(t))return t.map(n=>Te(n));if(typeof t!="object")throw new Error(`Unexpected type of ${t}`);const e=Object.entries(t);if(e.length===1){const n=e[0][0];if(n==="$bytes"){if(typeof t.$bytes!="string")throw new Error(`Malformed $bytes field on ${t}`);return Ge(t.$bytes).buffer}if(n==="$integer"){if(typeof t.$integer!="string")throw new Error(`Malformed $integer field on ${t}`);return Ji(t.$integer)}if(n==="$float"){if(typeof t.$float!="string")throw new Error(`Malformed $float field on ${t}`);const o=Ge(t.$float);if(o.byteLength!==8)throw new Error(`Received ${o.byteLength} bytes, expected 8 for $float`);const s=new DataView(o.buffer).getFloat64(0,Tn);if(!Pn(s))throw new Error(`Float ${s} should be encoded as a number`);return s}if(n==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(n==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const r={};for(const[n,o]of Object.entries(t))Nn(n),r[n]=Te(o);return r}const In=16384;function Je(t){const e=JSON.stringify(t,(r,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n);if(e.length>In){const r="[...truncated]";let n=In-r.length;const o=e.codePointAt(n-1);return o!==void 0&&o>65535&&(n-=1),e.substring(0,n)+r}return e}function ir(t,e,r,n){var s;if(t===void 0){const a=r&&` (present at path ${r} in original object ${Je(e)})`;throw new Error(`undefined is not a valid Convex value${a}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(t===null)return t;if(typeof t=="bigint"){if(t<Re||nr<t)throw new Error(`BigInt ${t} does not fit into a 64-bit signed integer.`);return{$integer:Hi(t)}}if(typeof t=="number")if(Pn(t)){const a=new ArrayBuffer(8);return new DataView(a).setFloat64(0,t,Tn),{$float:He(new Uint8Array(a))}}else return t;if(typeof t=="boolean"||typeof t=="string")return t;if(t instanceof ArrayBuffer)return{$bytes:He(new Uint8Array(t))};if(Array.isArray(t))return t.map((a,c)=>ir(a,e,r+`[${c}]`));if(t instanceof Set)throw new Error(sr(r,"Set",[...t],e));if(t instanceof Map)throw new Error(sr(r,"Map",[...t],e));if(!Rn(t)){const a=(s=t==null?void 0:t.constructor)==null?void 0:s.name,c=a?`${a} `:"";throw new Error(sr(r,c,t,e))}const o={},i=Object.entries(t);i.sort(([a,c],[l,f])=>a===l?0:a<l?-1:1);for(const[a,c]of i)c!==void 0&&(Nn(a),o[a]=ir(c,e,r+`.${a}`));return o}function sr(t,e,r,n){return t?`${e}${Je(r)} is not a supported Convex type (present at path ${t} in original object ${Je(n)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${e}${Je(r)} is not a supported Convex type.`}function te(t){return ir(t,t,"")}var Ki=Object.defineProperty,Xi=(t,e,r)=>e in t?Ki(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ar=(t,e,r)=>Xi(t,typeof e!="symbol"?e+"":e,r),Mn,En;const Zi=Symbol.for("ConvexError");class cr extends(En=Error,Mn=Zi,En){constructor(e){super(typeof e=="string"?e:Je(e)),ar(this,"name","ConvexError"),ar(this,"data"),ar(this,Mn,!0),this.data=e}}const qn=()=>Array.from({length:4},()=>0);qn(),qn();const On="1.31.6";var Yi=Object.defineProperty,es=(t,e,r)=>e in t?Yi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ln=(t,e,r)=>es(t,typeof e!="symbol"?e+"":e,r);const ts="color:rgb(0, 145, 255)";function Un(t){switch(t){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class zn{constructor(e){Ln(this,"_onLogLineFuncs"),Ln(this,"_verbose"),this._onLogLineFuncs={},this._verbose=e.verbose}addLogLineListener(e){let r=Math.random().toString(36).substring(2,15);for(let n=0;n<10&&this._onLogLineFuncs[r]!==void 0;n++)r=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[r]=e,()=>{delete this._onLogLineFuncs[r]}}logVerbose(...e){if(this._verbose)for(const r of Object.values(this._onLogLineFuncs))r("debug",`${new Date().toISOString()}`,...e)}log(...e){for(const r of Object.values(this._onLogLineFuncs))r("info",...e)}warn(...e){for(const r of Object.values(this._onLogLineFuncs))r("warn",...e)}error(...e){for(const r of Object.values(this._onLogLineFuncs))r("error",...e)}}function Qn(t){const e=new zn(t);return e.addLogLineListener((r,...n)=>{switch(r){case"debug":console.debug(...n);break;case"info":console.log(...n);break;case"warn":console.warn(...n);break;case"error":console.error(...n);break;default:console.log(...n)}}),e}function Fn(t){return new zn(t)}function dt(t,e,r,n,o){const i=Un(r);if(typeof o=="object"&&(o=`ConvexError ${JSON.stringify(o.errorData,null,2)}`),e==="info"){const s=o.match(/^\[.*?\] /);if(s===null){t.error(`[CONVEX ${i}(${n})] Could not parse console.log`);return}const a=o.slice(1,s[0].length-2),c=o.slice(s[0].length);t.log(`%c[CONVEX ${i}(${n})] [${a}]`,ts,c)}else t.error(`[CONVEX ${i}(${n})] ${o}`)}function rs(t,e){const r=`[CONVEX FATAL ERROR] ${e}`;return t.error(r),new Error(r)}function Pe(t,e,r){return`[CONVEX ${Un(t)}(${e})] ${r.errorMessage}
  Called by client`}function lr(t,e){return e.data=t.errorData,e}function be(t){const e=t.split(":");let r,n;return e.length===1?(r=e[0],n="default"):(r=e.slice(0,e.length-1).join(":"),n=e[e.length-1]),r.endsWith(".js")&&(r=r.slice(0,-3)),`${r}:${n}`}function ve(t,e){return JSON.stringify({udfPath:be(t),args:te(e)})}function Vn(t,e,r){const{initialNumItems:n,id:o}=r;return JSON.stringify({type:"paginated",udfPath:be(t),args:te(e),options:te({initialNumItems:n,id:o})})}var ns=Object.defineProperty,os=(t,e,r)=>e in t?ns(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,re=(t,e,r)=>os(t,typeof e!="symbol"?e+"":e,r);class is{constructor(){re(this,"nextQueryId"),re(this,"querySetVersion"),re(this,"querySet"),re(this,"queryIdToToken"),re(this,"identityVersion"),re(this,"auth"),re(this,"outstandingQueriesOlderThanRestart"),re(this,"outstandingAuthOlderThanRestart"),re(this,"paused"),re(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(e,r,n,o){const i=be(e),s=ve(i,r),a=this.querySet.get(s);if(a!==void 0)return a.numSubscribers+=1,{queryToken:s,modification:null,unsubscribe:()=>this.removeSubscriber(s)};{const c=this.nextQueryId++,l={id:c,canonicalizedUdfPath:i,args:r,numSubscribers:1,journal:n,componentPath:o};this.querySet.set(s,l),this.queryIdToToken.set(c,s);const f=this.querySetVersion,u=this.querySetVersion+1,p={type:"Add",queryId:c,udfPath:i,args:[te(r)],journal:n,componentPath:o};return this.paused?this.pendingQuerySetModifications.set(c,p):this.querySetVersion=u,{queryToken:s,modification:{type:"ModifyQuerySet",baseVersion:f,newVersion:u,modifications:[p]},unsubscribe:()=>this.removeSubscriber(s)}}}transition(e){for(const r of e.modifications)switch(r.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);const n=r.journal;if(n!==void 0){const o=this.queryIdToToken.get(r.queryId);o!==void 0&&(this.querySet.get(o).journal=n)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);break}default:throw new Error(`Invalid modification ${r.type}`)}}queryId(e,r){const n=be(e),o=ve(n,r),i=this.querySet.get(o);return i!==void 0?i.id:null}isCurrentOrNewerAuthVersion(e){return e>=this.identityVersion}getAuth(){return this.auth}setAuth(e){this.auth={tokenType:"User",value:e};const r=this.identityVersion;return this.paused||(this.identityVersion=r+1),{type:"Authenticate",baseVersion:r,...this.auth}}setAdminAuth(e,r){const n={tokenType:"Admin",value:e,impersonating:r};this.auth=n;const o=this.identityVersion;return this.paused||(this.identityVersion=o+1),{type:"Authenticate",baseVersion:o,...n}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const e=this.identityVersion;return this.paused||(this.identityVersion=e+1),{type:"Authenticate",tokenType:"None",baseVersion:e}}hasAuth(){return!!this.auth}isNewAuth(e){var r;return((r=this.auth)==null?void 0:r.value)!==e}queryPath(e){const r=this.queryIdToToken.get(e);return r?this.querySet.get(r).canonicalizedUdfPath:null}queryArgs(e){const r=this.queryIdToToken.get(e);return r?this.querySet.get(r).args:null}queryToken(e){return this.queryIdToToken.get(e)??null}queryJournal(e){var r;return(r=this.querySet.get(e))==null?void 0:r.journal}restart(e){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const r=[];for(const i of this.querySet.values()){const s={type:"Add",queryId:i.id,udfPath:i.canonicalizedUdfPath,args:[te(i.args)],journal:i.journal,componentPath:i.componentPath};r.push(s),e.has(i.id)||this.outstandingQueriesOlderThanRestart.add(i.id)}this.querySetVersion=1;const n={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:r};if(!this.auth)return this.identityVersion=0,[n,void 0];this.outstandingAuthOlderThanRestart=!0;const o={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[n,o]}pause(){this.paused=!0}resume(){const e=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,r=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[e,r]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(e){const r=this.querySet.get(e);if(r.numSubscribers>1)return r.numSubscribers-=1,null;{this.querySet.delete(e),this.queryIdToToken.delete(r.id),this.outstandingQueriesOlderThanRestart.delete(r.id);const n=this.querySetVersion,o=this.querySetVersion+1,i={type:"Remove",queryId:r.id};return this.paused?this.pendingQuerySetModifications.has(r.id)?this.pendingQuerySetModifications.delete(r.id):this.pendingQuerySetModifications.set(r.id,i):this.querySetVersion=o,{type:"ModifyQuerySet",baseVersion:n,newVersion:o,modifications:[i]}}}}var ss=Object.defineProperty,as=(t,e,r)=>e in t?ss(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ht=(t,e,r)=>as(t,typeof e!="symbol"?e+"":e,r);class cs{constructor(e,r){this.logger=e,this.markConnectionStateDirty=r,ht(this,"inflightRequests"),ht(this,"requestsOlderThanRestart"),ht(this,"inflightMutationsCount",0),ht(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(e,r){const n=new Promise(o=>{const i=r?"Requested":"NotSent";this.inflightRequests.set(e.requestId,{message:e,status:{status:i,requestedAt:new Date,onResult:o}}),e.type==="Mutation"?this.inflightMutationsCount++:e.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),n}onResponse(e){const r=this.inflightRequests.get(e.requestId);if(r===void 0||r.status.status==="Completed")return null;const n=r.message.type==="Mutation"?"mutation":"action",o=r.message.udfPath;for(const c of e.logLines)dt(this.logger,"info",n,o,c);const i=r.status;let s,a;if(e.success)s={success:!0,logLines:e.logLines,value:Te(e.result)},a=()=>i.onResult(s);else{const c=e.result,{errorData:l}=e;dt(this.logger,"error",n,o,c),s={success:!1,errorMessage:c,errorData:l!==void 0?Te(l):void 0,logLines:e.logLines},a=()=>i.onResult(s)}return e.type==="ActionResponse"||!e.success?(a(),this.inflightRequests.delete(e.requestId),this.requestsOlderThanRestart.delete(e.requestId),r.message.type==="Action"?this.inflightActionsCount--:r.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:e.requestId,result:s}):(r.status={status:"Completed",result:s,ts:e.ts,onResolve:a},null)}removeCompleted(e){const r=new Map;for(const[n,o]of this.inflightRequests.entries()){const i=o.status;i.status==="Completed"&&i.ts.lessThanOrEqual(e)&&(i.onResolve(),r.set(n,i.result),o.message.type==="Mutation"?this.inflightMutationsCount--:o.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(n),this.requestsOlderThanRestart.delete(n))}return r.size>0&&this.markConnectionStateDirty(),r}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const e=[];for(const[r,n]of this.inflightRequests){if(n.status.status==="NotSent"){n.status.status="Requested",e.push(n.message);continue}if(n.message.type==="Mutation")e.push(n.message);else if(n.message.type==="Action"){if(this.inflightRequests.delete(r),this.requestsOlderThanRestart.delete(r),this.inflightActionsCount--,n.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");n.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),e}resume(){const e=[];for(const[,r]of this.inflightRequests)if(r.status.status==="NotSent"){r.status.status="Requested",e.push(r.message);continue}return e}hasIncompleteRequests(){for(const e of this.inflightRequests.values())if(e.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let e=Date.now();for(const r of this.inflightRequests.values())r.status.status!=="Completed"&&r.status.requestedAt.getTime()<e&&(e=r.status.requestedAt.getTime());return new Date(e)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const Ke=Symbol.for("functionName"),jn=Symbol.for("toReferencePath");function ls(t){return t[jn]??null}function us(t){return t.startsWith("function://")}function ds(t){let e;if(typeof t=="string")us(t)?e={functionHandle:t}:e={name:t};else if(t[Ke])e={name:t[Ke]};else{const r=ls(t);if(!r)throw new Error(`${t} is not a functionReference`);e={reference:r}}return e}function Q(t){const e=ds(t);if(e.name===void 0)throw e.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${e.functionHandle}`):e.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${e.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(e)}`);if(typeof t=="string")return t;const r=t[Ke];if(!r)throw new Error(`${t} is not a functionReference`);return r}function Bn(t){return{[Ke]:t}}function Dn(t=[]){const e={get(r,n){if(typeof n=="string"){const o=[...t,n];return Dn(o)}else if(n===Ke){if(t.length<2){const s=["api",...t].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${s}\``)}const o=t.slice(0,-1).join("/"),i=t[t.length-1];return i==="default"?o:o+":"+i}else return n===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},e)}const hs=Dn();var fs=Object.defineProperty,ps=(t,e,r)=>e in t?fs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ft=(t,e,r)=>ps(t,typeof e!="symbol"?e+"":e,r);class Xe{constructor(e){ft(this,"queryResults"),ft(this,"modifiedQueries"),this.queryResults=e,this.modifiedQueries=[]}getQuery(e,...r){const n=ae(r[0]),o=Q(e),i=this.queryResults.get(ve(o,n));if(i!==void 0)return Xe.queryValue(i.result)}getAllQueries(e){const r=[],n=Q(e);for(const o of this.queryResults.values())o.udfPath===be(n)&&r.push({args:o.args,value:Xe.queryValue(o.result)});return r}setQuery(e,r,n){const o=ae(r),i=Q(e),s=ve(i,o);let a;n===void 0?a=void 0:a={success:!0,value:n,logLines:[]};const c={udfPath:i,args:o,result:a};this.queryResults.set(s,c),this.modifiedQueries.push(s)}static queryValue(e){if(e!==void 0)return e.success?e.value:void 0}}class gs{constructor(){ft(this,"queryResults"),ft(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(e,r){this.optimisticUpdates=this.optimisticUpdates.filter(s=>!r.has(s.mutationId));const n=this.queryResults;this.queryResults=new Map(e);const o=new Xe(this.queryResults);for(const s of this.optimisticUpdates)s.update(o);const i=[];for(const[s,a]of this.queryResults){const c=n.get(s);(c===void 0||c.result!==a.result)&&i.push(s)}return i}applyOptimisticUpdate(e,r){this.optimisticUpdates.push({update:e,mutationId:r});const n=new Xe(this.queryResults);return e(n),n.modifiedQueries}rawQueryResult(e){const r=this.queryResults.get(e);if(r!==void 0)return r.result}queryResult(e){const r=this.queryResults.get(e);if(r===void 0)return;const n=r.result;if(n!==void 0){if(n.success)return n.value;throw n.errorData!==void 0?lr(n,new cr(Pe("query",r.udfPath,n))):new Error(Pe("query",r.udfPath,n))}}hasQueryResult(e){return this.queryResults.get(e)!==void 0}queryLogs(e){var n;const r=this.queryResults.get(e);return(n=r==null?void 0:r.result)==null?void 0:n.logLines}}var ms=Object.defineProperty,ys=(t,e,r)=>e in t?ms(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ur=(t,e,r)=>ys(t,typeof e!="symbol"?e+"":e,r);class F{constructor(e,r){ur(this,"low"),ur(this,"high"),ur(this,"__isUnsignedLong__"),this.low=e|0,this.high=r|0,this.__isUnsignedLong__=!0}static isLong(e){return(e&&e.__isUnsignedLong__)===!0}static fromBytesLE(e){return new F(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24)}toBytesLE(){const e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]}static fromNumber(e){return isNaN(e)||e<0?Wn:e>=bs?vs:new F(e%Ze|0,e/Ze|0)}toString(){return(BigInt(this.high)*BigInt(Ze)+BigInt(this.low)).toString()}equals(e){return F.isLong(e)||(e=F.fromValue(e)),this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low}notEquals(e){return!this.equals(e)}comp(e){return F.isLong(e)||(e=F.fromValue(e)),this.equals(e)?0:e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(e){return this.comp(e)<=0}static fromValue(e){return typeof e=="number"?F.fromNumber(e):new F(e.low,e.high)}}const Wn=new F(0,0),Gn=65536,Ze=Gn*Gn,bs=Ze*Ze,vs=new F(-1,-1);var ws=Object.defineProperty,_s=(t,e,r)=>e in t?ws(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pt=(t,e,r)=>_s(t,typeof e!="symbol"?e+"":e,r);class Hn{constructor(e,r){pt(this,"version"),pt(this,"remoteQuerySet"),pt(this,"queryPath"),pt(this,"logger"),this.version={querySet:0,ts:F.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=e,this.logger=r}transition(e){const r=e.startVersion;if(this.version.querySet!==r.querySet||this.version.ts.notEquals(r.ts)||this.version.identity!==r.identity)throw new Error(`Invalid start version: ${r.ts.toString()}:${r.querySet}:${r.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(const n of e.modifications)switch(n.type){case"QueryUpdated":{const o=this.queryPath(n.queryId);if(o)for(const s of n.logLines)dt(this.logger,"info","query",o,s);const i=Te(n.value??null);this.remoteQuerySet.set(n.queryId,{success:!0,value:i,logLines:n.logLines});break}case"QueryFailed":{const o=this.queryPath(n.queryId);if(o)for(const s of n.logLines)dt(this.logger,"info","query",o,s);const{errorData:i}=n;this.remoteQuerySet.set(n.queryId,{success:!1,errorMessage:n.errorMessage,errorData:i!==void 0?Te(i):void 0,logLines:n.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(n.queryId);break}default:throw new Error(`Invalid modification ${n.type}`)}this.version=e.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function dr(t){const e=Ge(t);return F.fromBytesLE(Array.from(e))}function xs(t){const e=new Uint8Array(t.toBytesLE());return He(e)}function Jn(t){switch(t.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...t};case"MutationResponse":return t.success?{...t,ts:dr(t.ts)}:{...t};case"Transition":return{...t,startVersion:{...t.startVersion,ts:dr(t.startVersion.ts)},endVersion:{...t.endVersion,ts:dr(t.endVersion.ts)}}}}function ks(t){switch(t.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...t};case"Connect":return t.maxObservedTimestamp!==void 0?{...t,maxObservedTimestamp:xs(t.maxObservedTimestamp)}:{...t,maxObservedTimestamp:void 0}}}var Ss=Object.defineProperty,$s=(t,e,r)=>e in t?Ss(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,I=(t,e,r)=>$s(t,typeof e!="symbol"?e+"":e,r);const Cs=1e3,Rs=1001,Ts=1005,Ps=4040;let gt;function Ae(){return gt===void 0&&(gt=Date.now()),typeof performance>"u"||!performance.now?Date.now():Math.round(gt+performance.now())}function Kn(){return`t=${Math.round((Ae()-gt)/100)/10}s`}const Xn={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function As(t){if(t===void 0)return"Unknown";for(const e of Object.keys(Xn))if(t.startsWith(e))return e;return"Unknown"}class Ns{constructor(e,r,n,o,i,s){this.markConnectionStateDirty=i,this.debug=s,I(this,"socket"),I(this,"connectionCount"),I(this,"_hasEverConnected",!1),I(this,"lastCloseReason"),I(this,"transitionChunkBuffer",null),I(this,"defaultInitialBackoff"),I(this,"maxBackoff"),I(this,"retries"),I(this,"serverInactivityThreshold"),I(this,"reconnectDueToServerInactivityTimeout"),I(this,"scheduledReconnect",null),I(this,"networkOnlineHandler",null),I(this,"pendingNetworkRecoveryInfo",null),I(this,"uri"),I(this,"onOpen"),I(this,"onResume"),I(this,"onMessage"),I(this,"webSocketConstructor"),I(this,"logger"),I(this,"onServerDisconnectError"),this.webSocketConstructor=n,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=e,this.onOpen=r.onOpen,this.onResume=r.onResume,this.onMessage=r.onMessage,this.onServerDisconnectError=r.onServerDisconnectError,this.logger=o,this.setupNetworkListener(),this.connect()}setSocketState(e){this.socket=e,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}setupNetworkListener(){typeof window>"u"||typeof window.addEventListener!="function"||this.networkOnlineHandler===null&&(this.networkOnlineHandler=()=>{this._logVerbose("network online event detected"),this.tryReconnectImmediately()},window.addEventListener("online",this.networkOnlineHandler),this._logVerbose("network online event listener registered"))}cleanupNetworkListener(){this.networkOnlineHandler&&typeof window<"u"&&typeof window.removeEventListener=="function"&&(window.removeEventListener("online",this.networkOnlineHandler),this.networkOnlineHandler=null,this._logVerbose("network online event listener removed"))}assembleTransition(e){if(e.partNumber<0||e.partNumber>=e.totalParts||e.totalParts===0||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==e.totalParts||this.transitionChunkBuffer.transitionId!==e.transitionId))throw this.transitionChunkBuffer=null,new Error("Invalid TransitionChunk");if(this.transitionChunkBuffer===null&&(this.transitionChunkBuffer={chunks:[],totalParts:e.totalParts,transitionId:e.transitionId}),e.partNumber!==this.transitionChunkBuffer.chunks.length){const r=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,new Error(`TransitionChunk received out of order: expected part ${r}, got ${e.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(e.chunk),this.transitionChunkBuffer.chunks.length===e.totalParts){const r=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;const n=Jn(JSON.parse(r));if(n.type!=="Transition")throw new Error(`Expected Transition, got ${n.type} after assembling chunks`);return n}return null}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const e=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:e,paused:"no"}),this.resetServerInactivityTimeout(),e.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");if(this.setSocketState({state:"ready",ws:e,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Ae()})),this.lastCloseReason!=="InitialConnect"&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",Kn(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",Kn())),this.connectionCount+=1,this.lastCloseReason=null,this.pendingNetworkRecoveryInfo!==null){const{timeSavedMs:r}=this.pendingNetworkRecoveryInfo;this.pendingNetworkRecoveryInfo=null,this.sendMessage({type:"Event",eventType:"NetworkRecoveryReconnect",event:{timeSavedMs:r}}),this.logger.log(`Network recovery reconnect saved ~${Math.round(r/1e3)}s of waiting`)}},e.onerror=r=>{this.transitionChunkBuffer=null;const n=r.message;n&&this.logger.log(`WebSocket error message: ${n}`)},e.onmessage=r=>{this.resetServerInactivityTimeout();const n=r.data.length;let o=Jn(JSON.parse(r.data));if(this._logVerbose(`received ws message with type ${o.type}`),o.type==="Ping")return;if(o.type==="TransitionChunk"){const s=this.assembleTransition(o);if(!s)return;o=s,this._logVerbose(`assembled full ws message of type ${o.type}`)}this.transitionChunkBuffer!==null&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${o.type} while buffering TransitionChunks`)),o.type==="Transition"&&this.reportLargeTransition({messageLength:n,transition:o}),this.onMessage(o).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},e.onclose=r=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,this.lastCloseReason===null&&(this.lastCloseReason=r.reason||`closed with code ${r.code}`),r.code!==Cs&&r.code!==Rs&&r.code!==Ts&&r.code!==Ps){let o=`WebSocket closed with code ${r.code}`;r.reason&&(o+=`: ${r.reason}`),this.logger.log(o),this.onServerDisconnectError&&r.reason&&this.onServerDisconnectError(o)}const n=As(r.reason);this.scheduleReconnect(n)}}socketState(){return this.socket.state}sendMessage(e){const r={type:e.type,...e.type==="Authenticate"&&e.tokenType==="User"?{value:`...${e.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const n=ks(e),o=JSON.stringify(n);let i=!1;try{this.socket.ws.send(o),i=!0}catch(s){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${s}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${i?"sent":"failed to send"} message with type ${e.type}: ${JSON.stringify(r)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(r)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(e){this.scheduledReconnect&&(clearTimeout(this.scheduledReconnect.timeout),this.scheduledReconnect=null),this.socket={state:"disconnected"};const r=this.nextBackoff(e);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(r)}ms`);const n=Ae(),o=setTimeout(()=>{var i;((i=this.scheduledReconnect)==null?void 0:i.timeout)===o&&(this.scheduledReconnect=null,this.connect())},r);this.scheduledReconnect={timeout:o,scheduledAt:n,backoffMs:r}}closeAndReconnect(e){switch(this._logVerbose(`begin closeAndReconnect with reason ${e}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=e,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const e=this.socket.ws;return e.onmessage=r=>{this._logVerbose("Ignoring message received after close")},new Promise(r=>{e.onclose=()=>{this._logVerbose("Closed after connecting"),r()},e.onopen=()=>{this._logVerbose("Opened after connecting"),e.close()}})}case"ready":{this._logVerbose("ws.close called");const e=this.socket.ws;e.onmessage=n=>{this._logVerbose("Ignoring message received after close")};const r=new Promise(n=>{e.onclose=()=>{n()}});return e.close(),r}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.scheduledReconnect&&(clearTimeout(this.scheduledReconnect.timeout),this.scheduledReconnect=null),this.cleanupNetworkListener(),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const e=this.close();return this.setSocketState({state:"terminated"}),e}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{this.cleanupNetworkListener();const e=this.close();return this.socket={state:"stopped"},e}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.setupNetworkListener(),this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}tryReconnectImmediately(){if(this._logVerbose("tryReconnectImmediately called"),this.socket.state!=="disconnected"){this._logVerbose(`tryReconnectImmediately called but socket state is ${this.socket.state}, no action taken`);return}let e=null;if(this.scheduledReconnect){const r=Ae()-this.scheduledReconnect.scheduledAt;e=Math.max(0,this.scheduledReconnect.backoffMs-r),this._logVerbose(`would have waited ${Math.round(e)}ms more (backoff was ${Math.round(this.scheduledReconnect.backoffMs)}ms, elapsed ${Math.round(r)}ms)`),clearTimeout(this.scheduledReconnect.timeout),this.scheduledReconnect=null,this._logVerbose("canceled scheduled reconnect")}this.logger.log("Network recovery detected, reconnecting immediately"),this.pendingNetworkRecoveryInfo=e!==null?{timeSavedMs:e}:null,this.connect()}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Ae()})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(e){this.logger.logVerbose(e)}nextBackoff(e){const n=(e==="client"?100:e==="Unknown"?this.defaultInitialBackoff:Xn[e].timeout)*Math.pow(2,this.retries);this.retries+=1;const o=Math.min(n,this.maxBackoff),i=o*(Math.random()-.5);return o+i}reportLargeTransition({transition:e,messageLength:r}){if(e.clientClockSkew===void 0||e.serverTs===void 0)return;const n=Ae()-e.clientClockSkew-e.serverTs/1e6,o=`${Math.round(n)}ms`,i=`${Math.round(r/1e4)/100}MB`,s=r/(n/1e3),a=`${Math.round(s/1e4)/100}MB per second`;this._logVerbose(`received ${i} transition in ${o} at ${a}`),r>2e7?this.logger.log(`received query results totaling more that 20MB (${i}) which will take a long time to download on slower connections`):n>2e4&&this.logger.log(`received query results totaling ${i} which took more than 20s to arrive (${o})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:n,messageLength:r}})}}function Is(){return Ms()}function Ms(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}class Ye extends Error{}Ye.prototype.name="InvalidTokenError";function Es(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function qs(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Es(e)}catch{return atob(e)}}function Zn(t,e){if(typeof t!="string")throw new Ye("Invalid token specified: must be a string");e||(e={});const r=e.header===!0?0:1,n=t.split(".")[r];if(typeof n!="string")throw new Ye(`Invalid token specified: missing part #${r+1}`);let o;try{o=qs(n)}catch(i){throw new Ye(`Invalid token specified: invalid base64 for part #${r+1} (${i.message})`)}try{return JSON.parse(o)}catch(i){throw new Ye(`Invalid token specified: invalid json for part #${r+1} (${i.message})`)}}var Os=Object.defineProperty,Ls=(t,e,r)=>e in t?Os(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,H=(t,e,r)=>Ls(t,typeof e!="symbol"?e+"":e,r);const Us=480*60*60*1e3,Yn=2;class zs{constructor(e,r,n){H(this,"authState",{state:"noAuth"}),H(this,"configVersion",0),H(this,"syncState"),H(this,"authenticate"),H(this,"stopSocket"),H(this,"tryRestartSocket"),H(this,"pauseSocket"),H(this,"resumeSocket"),H(this,"clearAuth"),H(this,"logger"),H(this,"refreshTokenLeewaySeconds"),H(this,"tokenConfirmationAttempts",0),this.syncState=e,this.authenticate=r.authenticate,this.stopSocket=r.stopSocket,this.tryRestartSocket=r.tryRestartSocket,this.pauseSocket=r.pauseSocket,this.resumeSocket=r.resumeSocket,this.clearAuth=r.clearAuth,this.logger=n.logger,this.refreshTokenLeewaySeconds=n.refreshTokenLeewaySeconds}async setConfig(e,r){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const n=await this.fetchTokenAndGuardAgainstRace(e,{forceRefreshToken:!1});n.isFromOutdatedConfig||(n.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:e,onAuthChange:r},hasRetried:!1}),this.authenticate(n.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:e,onAuthChange:r}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(e){if(this.syncState.isCurrentOrNewerAuthVersion(e.endVersion.identity)&&!(e.endVersion.identity<=e.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(e){if(e.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:r}=e;if(!this.syncState.isCurrentOrNewerAuthVersion(r+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(e)}async tryToReauthenticate(e){if(this._logVerbose(`attempting to reauthenticate: ${e.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=Yn){this.logger.error(`Failed to authenticate: "${e.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${Yn-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const r=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});r.isFromOutdatedConfig||(r.value&&this.syncState.isNewAuth(r.value)?(this.authenticate(r.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:r.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const e=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});e.isFromOutdatedConfig||(e.value?this.syncState.isNewAuth(e.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:e.value,config:this.authState.config}),this.authenticate(e.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(e){if(this.authState.state==="noAuth")return;const r=this.decodeToken(e);if(!r){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:n,exp:o}=r;if(!n||!o){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const i=o-n;if(i<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let s=Math.min(Us,(i-this.refreshTokenLeewaySeconds)*1e3);s<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${i}s`),s=0);const a=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},s);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:a,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${s}ms`)}async fetchTokenAndGuardAgainstRace(e,r){const n=++this.configVersion;this._logVerbose(`fetching token with config version ${n}`);const o=await e(r);return this.configVersion!==n?(this._logVerbose(`stale config version, expected ${n}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:o}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(e){e(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(e){const r=e.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:e.hadAuth,state:e.state,token:`...${e.token.slice(-7)}`}:{state:e.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(r)}`),e.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=e}decodeToken(e){try{return Zn(e)}catch(r){return this._logVerbose(`Error decoding token: ${r instanceof Error?r.message:"Unknown error"}`),null}}_logVerbose(e){this.logger.logVerbose(`${e} [v${this.configVersion}]`)}}const Qs=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function Fs(t,e){const r={sessionId:e};typeof performance>"u"||!performance.mark||performance.mark(t,{detail:r})}function Vs(t){let e=t.name.slice(6);return e=e.charAt(0).toLowerCase()+e.slice(1),{name:e,startTime:t.startTime}}function js(t){if(typeof performance>"u"||!performance.getEntriesByName)return[];const e=[];for(const r of Qs){const n=performance.getEntriesByName(r).filter(o=>o.entryType==="mark").filter(o=>o.detail.sessionId===t);e.push(...n)}return e.map(Vs)}var Bs=Object.defineProperty,Ds=(t,e,r)=>e in t?Bs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,M=(t,e,r)=>Ds(t,typeof e!="symbol"?e+"":e,r);class Ws{constructor(e,r,n){if(M(this,"address"),M(this,"state"),M(this,"requestManager"),M(this,"webSocketManager"),M(this,"authenticationManager"),M(this,"remoteQuerySet"),M(this,"optimisticQueryResults"),M(this,"_transitionHandlerCounter",0),M(this,"_nextRequestId"),M(this,"_onTransitionFns",new Map),M(this,"_sessionId"),M(this,"firstMessageReceived",!1),M(this,"debug"),M(this,"logger"),M(this,"maxObservedTimestamp"),M(this,"connectionStateSubscribers",new Map),M(this,"nextConnectionStateSubscriberId",0),M(this,"_lastPublishedConnectionState"),M(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const h=this.connectionState();if(JSON.stringify(h)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=h;for(const g of this.connectionStateSubscribers.values())g(h)}})}),M(this,"mark",h=>{this.debug&&Fs(h,this.sessionId)}),typeof e=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(n==null?void 0:n.skipConvexDeploymentUrlCheck)!==!0&&Fi(e),n={...n};const o=n.authRefreshTokenLeewaySeconds??2;let i=n.webSocketConstructor;if(!i&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");i=i||WebSocket,this.debug=n.reportDebugInfoToConvex??!1,this.address=e,this.logger=n.logger===!1?Fn({verbose:n.verbose??!1}):n.logger!==!0&&n.logger?n.logger:Qn({verbose:n.verbose??!1});const s=e.search("://");if(s===-1)throw new Error("Provided address was not an absolute URL.");const a=e.substring(s+3),c=e.substring(0,s);let l;if(c==="http")l="ws";else if(c==="https")l="wss";else throw new Error(`Unknown parent protocol ${c}`);const f=`${l}://${a}/api/${On}/sync`;this.state=new is,this.remoteQuerySet=new Hn(h=>this.state.queryPath(h),this.logger),this.requestManager=new cs(this.logger,this.markConnectionStateDirty);const u=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new zs(this.state,{authenticate:h=>{const g=this.state.setAuth(h);return this.webSocketManager.sendMessage(g),g.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:u,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:o}),this.optimisticQueryResults=new gs,this.addOnTransitionHandler(h=>{r(h.queries.map(g=>g.token))}),this._nextRequestId=0,this._sessionId=Is();const{unsavedChangesWarning:p}=n;if(typeof window>"u"||typeof window.addEventListener>"u"){if(p===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else p!==!1&&window.addEventListener("beforeunload",h=>{if(this.requestManager.hasIncompleteRequests()){h.preventDefault();const g="Are you sure you want to leave? Your changes may not be saved.";return(h||window.event).returnValue=g,g}});this.webSocketManager=new Ns(f,{onOpen:h=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...h,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const g=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new Hn(S=>this.state.queryPath(S),this.logger);const[_,x]=this.state.restart(g);x&&this.webSocketManager.sendMessage(x),this.webSocketManager.sendMessage(_);for(const S of this.requestManager.restart())this.webSocketManager.sendMessage(S)},onResume:()=>{const[h,g]=this.state.resume();g&&this.webSocketManager.sendMessage(g),h&&this.webSocketManager.sendMessage(h);for(const _ of this.requestManager.resume())this.webSocketManager.sendMessage(_)},onMessage:h=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),h.type){case"Transition":{this.observedTimestamp(h.endVersion.ts),this.authenticationManager.onTransition(h),this.remoteQuerySet.transition(h),this.state.transition(h);const g=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(g);break}case"MutationResponse":{h.success&&this.observedTimestamp(h.ts);const g=this.requestManager.onResponse(h);g!==null&&this.notifyOnQueryResultChanges(new Map([[g.requestId,g.result]]));break}case"ActionResponse":{this.requestManager.onResponse(h);break}case"AuthError":{this.authenticationManager.onAuthError(h);break}case"FatalError":{const g=rs(this.logger,h.error);throw this.webSocketManager.terminate(),g}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:n.onServerDisconnectError},i,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),n.expectAuth&&u()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(e){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(e))&&(this.maxObservedTimestamp=e)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(e){const r=this.remoteQuerySet.remoteQueryResults(),n=new Map;for(const[i,s]of r){const a=this.state.queryToken(i);if(a!==null){const c={result:s,udfPath:this.state.queryPath(i),args:this.state.queryArgs(i)};n.set(a,c)}}const o=this.optimisticQueryResults.ingestQueryResultsFromServer(n,new Set(e.keys()));this.handleTransition({queries:o.map(i=>{const s=this.optimisticQueryResults.rawQueryResult(i);return{token:i,modification:{kind:"Updated",result:s}}}),reflectedMutations:Array.from(e).map(([i,s])=>({requestId:i,result:s})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(e){for(const r of this._onTransitionFns.values())r(e)}addOnTransitionHandler(e){const r=this._transitionHandlerCounter++;return this._onTransitionFns.set(r,e),()=>this._onTransitionFns.delete(r)}getCurrentAuthClaims(){const e=this.state.getAuth();let r={};if(e&&e.tokenType==="User")try{r=e?Zn(e.value):{}}catch{r={}}else return;return{token:e.value,decoded:r}}setAuth(e,r){this.authenticationManager.setConfig(e,r)}hasAuth(){return this.state.hasAuth()}setAdminAuth(e,r){const n=this.state.setAdminAuth(e,r);this.webSocketManager.sendMessage(n)}clearAuth(){const e=this.state.clearAuth();this.webSocketManager.sendMessage(e)}subscribe(e,r,n){const o=ae(r),{modification:i,queryToken:s,unsubscribe:a}=this.state.subscribe(e,o,n==null?void 0:n.journal,n==null?void 0:n.componentPath);return i!==null&&this.webSocketManager.sendMessage(i),{queryToken:s,unsubscribe:()=>{const c=a();c&&this.webSocketManager.sendMessage(c)}}}localQueryResult(e,r){const n=ae(r),o=ve(e,n);return this.optimisticQueryResults.queryResult(o)}localQueryResultByToken(e){return this.optimisticQueryResults.queryResult(e)}hasLocalQueryResultByToken(e){return this.optimisticQueryResults.hasQueryResult(e)}localQueryLogs(e,r){const n=ae(r),o=ve(e,n);return this.optimisticQueryResults.queryLogs(o)}queryJournal(e,r){const n=ae(r),o=ve(e,n);return this.state.queryJournal(o)}connectionState(){const e=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:e.isConnected,hasEverConnected:e.hasEverConnected,connectionCount:e.connectionCount,connectionRetries:e.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(e){const r=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(r,e),()=>{this.connectionStateSubscribers.delete(r)}}async mutation(e,r,n){const o=await this.mutationInternal(e,r,n);if(!o.success)throw o.errorData!==void 0?lr(o,new cr(Pe("mutation",e,o))):new Error(Pe("mutation",e,o));return o.value}async mutationInternal(e,r,n,o){const{mutationPromise:i}=this.enqueueMutation(e,r,n,o);return i}enqueueMutation(e,r,n,o){const i=ae(r);this.tryReportLongDisconnect();const s=this.nextRequestId;if(this._nextRequestId++,n!==void 0){const f=n.optimisticUpdate;if(f!==void 0){const u=g=>{f(g,i)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},h=this.optimisticQueryResults.applyOptimisticUpdate(u,s).map(g=>{const _=this.localQueryResultByToken(g);return{token:g,modification:{kind:"Updated",result:_===void 0?void 0:{success:!0,value:_,logLines:[]}}}});this.handleTransition({queries:h,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const a={type:"Mutation",requestId:s,udfPath:e,componentPath:o,args:[te(i)]},c=this.webSocketManager.sendMessage(a),l=this.requestManager.request(a,c);return{requestId:s,mutationPromise:l}}async action(e,r){const n=await this.actionInternal(e,r);if(!n.success)throw n.errorData!==void 0?lr(n,new cr(Pe("action",e,n))):new Error(Pe("action",e,n));return n.value}async actionInternal(e,r,n){const o=ae(r),i=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const s={type:"Action",requestId:i,udfPath:e,componentPath:n,args:[te(o)]},a=this.webSocketManager.sendMessage(s);return this.requestManager.request(s,a)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const e=js(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:e})}}tryReportLongDisconnect(){if(!this.debug)return;const e=this.connectionState().timeOfOldestInflightRequest;if(e===null||Date.now()-e.getTime()<=6e4)return;const r=`${this.address}/api/debug_event`;fetch(r,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${On}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(n=>{n.ok||this.logger.warn("Analytics request failed with response:",n.body)}).catch(n=>{this.logger.warn("Analytics response failed with error:",n)})}}function hr(t){if(typeof t!="object"||t===null||!Array.isArray(t.page)||typeof t.isDone!="boolean"||typeof t.continueCursor!="string")throw new Error(`Not a valid paginated query result: ${t==null?void 0:t.toString()}`);return t}var Gs=Object.defineProperty,Hs=(t,e,r)=>e in t?Gs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,eo=(t,e,r)=>Hs(t,typeof e!="symbol"?e+"":e,r);class Js{constructor(e,r){this.client=e,this.onTransition=r,eo(this,"paginatedQuerySet",new Map),eo(this,"lastTransitionTs"),this.lastTransitionTs=F.fromNumber(0),this.client.addOnTransitionHandler(n=>this.onBaseTransition(n))}subscribe(e,r,n){const o=be(e),i=Vn(o,r,n),s=()=>this.removePaginatedQuerySubscriber(i),a=this.paginatedQuerySet.get(i);return a?(a.numSubscribers+=1,{paginatedQueryToken:i,unsubscribe:s}):(this.paginatedQuerySet.set(i,{token:i,canonicalizedUdfPath:o,args:r,numSubscribers:1,options:{initialNumItems:n.initialNumItems},nextPageKey:0,pageKeys:[],pageKeyToQuery:new Map,ongoingSplits:new Map,skip:!1,id:n.id}),this.addPageToPaginatedQuery(i,null,n.initialNumItems),{paginatedQueryToken:i,unsubscribe:s})}localQueryResult(e,r,n){const o=be(e),i=Vn(o,r,n);return this.localQueryResultByToken(i)}localQueryResultByToken(e){const r=this.paginatedQuerySet.get(e);if(!r)return;const n=this.activePageQueryTokens(r);if(n.length===0)return{results:[],status:"LoadingFirstPage",loadMore:c=>this.loadMoreOfPaginatedQuery(e,c)};let o=[],i=!1,s=!1;for(const c of n){const l=this.client.localQueryResultByToken(c);if(l===void 0){i=!0,s=!1;continue}const f=hr(l);o=o.concat(f.page),s=!!f.isDone}let a;return i?a=o.length===0?"LoadingFirstPage":"LoadingMore":s?a="Exhausted":a="CanLoadMore",{results:o,status:a,loadMore:c=>this.loadMoreOfPaginatedQuery(e,c)}}onBaseTransition(e){const r=e.queries.map(s=>s.token),n=this.queriesContainingTokens(r);let o=[];n.length>0&&(this.processPaginatedQuerySplits(n,s=>this.client.localQueryResultByToken(s)),o=n.map(s=>({token:s,modification:{kind:"Updated",result:this.localQueryResultByToken(s)}})));const i={...e,paginatedQueries:o};this.onTransition(i)}loadMoreOfPaginatedQuery(e,r){this.mustGetPaginatedQuery(e);const n=this.queryTokenForLastPageOfPaginatedQuery(e),o=this.client.localQueryResultByToken(n);if(!o)return!1;const i=hr(o);if(i.isDone)return!1;this.addPageToPaginatedQuery(e,i.continueCursor,r);const s={timestamp:this.lastTransitionTs,reflectedMutations:[],queries:[],paginatedQueries:[{token:e,modification:{kind:"Updated",result:this.localQueryResultByToken(e)}}]};return this.onTransition(s),!0}queriesContainingTokens(e){if(e.length===0)return[];const r=[],n=new Set(e);for(const[o,i]of this.paginatedQuerySet)for(const s of this.allQueryTokens(i))if(n.has(s)){r.push(o);break}return r}processPaginatedQuerySplits(e,r){for(const n of e){const o=this.mustGetPaginatedQuery(n),{ongoingSplits:i,pageKeyToQuery:s,pageKeys:a}=o;for(const[c,[l,f]]of i)r(s.get(l).queryToken)!==void 0&&r(s.get(f).queryToken)!==void 0&&this.completePaginatedQuerySplit(o,c,l,f);for(const c of a){if(i.has(c))continue;const l=s.get(c).queryToken,f=r(l);if(!f)continue;const u=hr(f);u.splitCursor&&(u.pageStatus==="SplitRecommended"||u.pageStatus==="SplitRequired"||u.page.length>o.options.initialNumItems*2)&&this.splitPaginatedQueryPage(o,c,u.splitCursor,u.continueCursor)}}}splitPaginatedQueryPage(e,r,n,o){const i=e.nextPageKey++,s=e.nextPageKey++,a={cursor:o,numItems:e.options.initialNumItems,id:e.id},c=this.client.subscribe(e.canonicalizedUdfPath,{...e.args,paginationOpts:{...a,cursor:null,endCursor:n}});e.pageKeyToQuery.set(i,c);const l=this.client.subscribe(e.canonicalizedUdfPath,{...e.args,paginationOpts:{...a,cursor:n,endCursor:o}});e.pageKeyToQuery.set(s,l),e.ongoingSplits.set(r,[i,s])}addPageToPaginatedQuery(e,r,n){const o=this.mustGetPaginatedQuery(e),i=o.nextPageKey++,s={cursor:r,numItems:n,id:o.id},a={...o.args,paginationOpts:s},c=this.client.subscribe(o.canonicalizedUdfPath,a);return o.pageKeys.push(i),o.pageKeyToQuery.set(i,c),c}removePaginatedQuerySubscriber(e){const r=this.paginatedQuerySet.get(e);if(r&&(r.numSubscribers-=1,!(r.numSubscribers>0))){for(const n of r.pageKeyToQuery.values())n.unsubscribe();this.paginatedQuerySet.delete(e)}}completePaginatedQuerySplit(e,r,n,o){const i=e.pageKeyToQuery.get(r);e.pageKeyToQuery.delete(r);const s=e.pageKeys.indexOf(r);e.pageKeys.splice(s,1,n,o),e.ongoingSplits.delete(r),i.unsubscribe()}activePageQueryTokens(e){return e.pageKeys.map(r=>e.pageKeyToQuery.get(r).queryToken)}allQueryTokens(e){return Array.from(e.pageKeyToQuery.values()).map(r=>r.queryToken)}queryTokenForLastPageOfPaginatedQuery(e){const r=this.mustGetPaginatedQuery(e),n=r.pageKeys[r.pageKeys.length-1];if(n===void 0)throw new Error(`No pages for paginated query ${e}`);return r.pageKeyToQuery.get(n).queryToken}mustGetPaginatedQuery(e){const r=this.paginatedQuerySet.get(e);if(!r)throw new Error("paginated query no longer exists for token "+e);return r}}function Ks({getCurrentValue:t,subscribe:e}){const[r,n]=W(()=>({getCurrentValue:t,subscribe:e,value:t()}));let o=r.value;return(r.getCurrentValue!==t||r.subscribe!==e)&&(o=t(),n({getCurrentValue:t,subscribe:e,value:o})),de(()=>{let i=!1;const s=()=>{i||n(c=>{if(c.getCurrentValue!==t||c.subscribe!==e)return c;const l=t();return c.value===l?c:{...c,value:l}})},a=e(s);return s(),()=>{i=!0,a()}},[t,e]),o}var Xs=Object.defineProperty,Zs=(t,e,r)=>e in t?Xs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ce=(t,e,r)=>Zs(t,typeof e!="symbol"?e+"":e,r);const Ys=5e3;if(typeof ut>"u")throw new Error("Required dependency 'react' not found");function to(t,e,r){function n(o){return oa(o),e.mutation(t,o,{optimisticUpdate:r})}return n.withOptimisticUpdate=function(i){if(r!==void 0)throw new Error(`Already specified optimistic update for mutation ${Q(t)}`);return to(t,e,i)},n}class ea{constructor(e,r){if(ce(this,"address"),ce(this,"cachedSync"),ce(this,"cachedPaginatedQueryClient"),ce(this,"listeners"),ce(this,"options"),ce(this,"closed",!1),ce(this,"_logger"),ce(this,"adminAuth"),ce(this,"fakeUserIdentity"),e===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof e!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof e} instead.`);if(!e.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=e,this.listeners=new Map,this._logger=(r==null?void 0:r.logger)===!1?Fn({verbose:(r==null?void 0:r.verbose)??!1}):(r==null?void 0:r.logger)!==!0&&(r!=null&&r.logger)?r.logger:Qn({verbose:(r==null?void 0:r.verbose)??!1}),this.options={...r,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new Ws(this.address,()=>{},this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedPaginatedQueryClient=new Js(this.cachedSync,e=>this.handleTransition(e)),this.cachedSync)}get paginatedQueryClient(){if(this.sync,this.cachedPaginatedQueryClient)return this.cachedPaginatedQueryClient;throw new Error("Should already be instantiated")}setAuth(e,r){if(typeof e=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(e,r??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(e,r){if(this.adminAuth=e,this.fakeUserIdentity=r,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(e,r)}watchQuery(e,...r){const[n,o]=r,i=Q(e);return{onUpdate:s=>{const{queryToken:a,unsubscribe:c}=this.sync.subscribe(i,n,o),l=this.listeners.get(a);return l!==void 0?l.add(s):this.listeners.set(a,new Set([s])),()=>{if(this.closed)return;const f=this.listeners.get(a);f.delete(s),f.size===0&&this.listeners.delete(a),c()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(i,n)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(i,n)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(i,n)}}}prewarmQuery(e){const r=e.extendSubscriptionFor??Ys,o=this.watchQuery(e.query,e.args||{}).onUpdate(()=>{});setTimeout(o,r)}watchPaginatedQuery(e,r,n){const o=Q(e);return{onUpdate:i=>{const{paginatedQueryToken:s,unsubscribe:a}=this.paginatedQueryClient.subscribe(o,r||{},n),c=this.listeners.get(s);return c!==void 0?c.add(i):this.listeners.set(s,new Set([i])),()=>{if(this.closed)return;const l=this.listeners.get(s);l.delete(i),l.size===0&&this.listeners.delete(s),a()}},localQueryResult:()=>this.paginatedQueryClient.localQueryResult(o,r,n)}}mutation(e,...r){const[n,o]=r,i=Q(e);return this.sync.mutation(i,n,o)}action(e,...r){const n=Q(e);return this.sync.action(n,...r)}query(e,...r){const n=this.watchQuery(e,...r),o=n.localQueryResult();return o!==void 0?Promise.resolve(o):new Promise((i,s)=>{const a=n.onUpdate(()=>{a();try{i(n.localQueryResult())}catch(c){s(c)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(e){return this.sync.subscribeToConnectionState(e)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedPaginatedQueryClient&&(this.cachedPaginatedQueryClient=void 0),this.cachedSync){const e=this.cachedSync;this.cachedSync=void 0,await e.close()}}handleTransition(e){const r=e.queries.map(o=>o.token),n=e.paginatedQueries.map(o=>o.token);this.transition([...r,...n])}transition(e){for(const r of e){const n=this.listeners.get(r);if(n)for(const o of n)o()}}}const fr=ut.createContext(void 0);function ta(){return De(fr)}const ra=({client:t,children:e})=>ut.createElement(fr.Provider,{value:t},e);function ro(t,...e){const r=e[0]==="skip",n=e[0]==="skip"?{}:ae(e[0]),o=typeof t=="string"?Bn(t):t,i=Q(o),s=ie(()=>r?{}:{query:{query:o,args:n}},[JSON.stringify(te(n)),i,r]),c=ca(s).query;if(c instanceof Error)throw c;return c}function na(t){const e=typeof t=="string"?Bn(t):t,r=De(fr);if(r===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return ie(()=>to(e,r),[r,Q(e)])}function oa(t){if(typeof t=="object"&&t!==null&&"bubbles"in t&&"persist"in t&&"isDefaultPrevented"in t)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var ia=Object.defineProperty,sa=(t,e,r)=>e in t?ia(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pr=(t,e,r)=>sa(t,typeof e!="symbol"?e+"":e,r);class aa{constructor(e){pr(this,"createWatch"),pr(this,"queries"),pr(this,"listeners"),this.createWatch=e,this.queries={},this.listeners=new Set}setQueries(e){for(const r of Object.keys(e)){const{query:n,args:o,paginationOptions:i}=e[r];if(Q(n),this.queries[r]===void 0)this.addQuery(r,n,o,i?{paginationOptions:i}:{});else{const s=this.queries[r];(Q(n)!==Q(s.query)||JSON.stringify(te(o))!==JSON.stringify(te(s.args))||JSON.stringify(i)!==JSON.stringify(s.paginationOptions))&&(this.removeQuery(r),this.addQuery(r,n,o,i?{paginationOptions:i}:{}))}}for(const r of Object.keys(this.queries))e[r]===void 0&&this.removeQuery(r)}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}getLocalResults(e){const r={};for(const n of Object.keys(e)){const{query:o,args:i}=e[n],s=e[n].paginationOptions;Q(o);const a=this.createWatch(o,i,s?{paginationOptions:s}:{});let c;try{c=a.localQueryResult()}catch(l){if(l instanceof Error)c=l;else throw l}r[n]=c}return r}setCreateWatch(e){this.createWatch=e;for(const r of Object.keys(this.queries)){const{query:n,args:o,watch:i,paginationOptions:s}=this.queries[r],a="journal"in i?i.journal():void 0;this.removeQuery(r),this.addQuery(r,n,o,{...a?{journal:a}:[],...s?{paginationOptions:s}:{}})}}destroy(){for(const e of Object.keys(this.queries))this.removeQuery(e);this.listeners=new Set}addQuery(e,r,n,{paginationOptions:o,journal:i}){if(this.queries[e]!==void 0)throw new Error(`Tried to add a new query with identifier ${e} when it already exists.`);const s=this.createWatch(r,n,{...i?{journal:i}:[],...o?{paginationOptions:o}:{}}),a=s.onUpdate(()=>this.notifyListeners());this.queries[e]={query:r,args:n,watch:s,unsubscribe:a,...o?{paginationOptions:o}:{}}}removeQuery(e){const r=this.queries[e];if(r===void 0)throw new Error(`No query found with identifier ${e}.`);r.unsubscribe(),delete this.queries[e]}notifyListeners(){for(const e of this.listeners)e()}}function ca(t){const e=ta();if(e===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const r=ie(()=>(n,o,{journal:i,paginationOptions:s})=>s?e.watchPaginatedQuery(n,o,s):e.watchQuery(n,o,i?{journal:i}:{}),[e]);return la(t,r)}function la(t,e){const[r]=W(()=>new aa(e));r.createWatch!==e&&r.setCreateWatch(e),de(()=>()=>r.destroy(),[r]);const n=ie(()=>({getCurrentValue:()=>r.getLocalResults(t),subscribe:o=>(r.setQueries(t),r.subscribe(o))}),[r,t]);return Ks(n)}function no(t){return{render:function(e){Zt(e,t)},unmount:function(){tr(t)}}}function ua(t,e){return Yt(e,t),no(t)}const da={createRoot:no,hydrateRoot:ua};function oo(t,e){const r={get(n,o){if(typeof o=="string"){const i=[...e,o];return oo(t,i)}else if(o===jn){if(e.length<1){const i=[t,...e].join(".");throw new Error(`API path is expected to be of the form \`${t}.childComponent.functionName\`. Found: \`${i}\``)}return"_reference/childComponent/"+e.join("/")}else return}};return new Proxy({},r)}const ha=()=>oo("components",[]),gr=hs;ha();var fa=new Set(["style"]),pa={srcset:"srcSet",fetchpriority:"fetchpriority"},ga=t=>t.startsWith("data-")||t.startsWith("aria-")?t:pa[t]||t.replace(/-./g,e=>e[1].toUpperCase());function mr(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[ga(e),fa.has(e)&&r&&typeof r!="string"?mr(r):r]))}var io=(t,e)=>{if(!(!t||!e))switch(e){case"constrained":return`(min-width: ${t}px) ${t}px, 100vw`;case"fixed":return`${t}px`;case"fullWidth":return"100vw";default:return}},et=t=>t||t===0?`${t}px`:void 0,ma=({width:t,height:e,aspectRatio:r,layout:n,objectFit:o="cover",background:i})=>{const s=[["object-fit",o]];return i!=null&&i.startsWith("https:")||i!=null&&i.startsWith("http:")||i!=null&&i.startsWith("data:")||i!=null&&i.startsWith("/")?(s.push(["background-image",`url(${i})`]),s.push(["background-size","cover"]),s.push(["background-repeat","no-repeat"])):s.push(["background",i]),n==="fixed"&&(s.push(["width",et(t)]),s.push(["height",et(e)])),n==="constrained"&&(s.push(["max-width",et(t)]),s.push(["max-height",et(e)]),s.push(["aspect-ratio",r?`${r}`:void 0]),s.push(["width","100%"])),n==="fullWidth"&&(s.push(["width","100%"]),s.push(["aspect-ratio",r?`${r}`:void 0]),s.push(["height",et(e)])),Object.fromEntries(s.filter(([,a])=>a))},ya=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],so=24,ba=({width:t,layout:e,resolutions:r=ya})=>{if(e==="fullWidth")return r;if(!t)return[];const n=t*2;return e==="fixed"?[t,n]:e==="constrained"?[t,n,...r.filter(o=>o<n)]:[]},va=({src:t,width:e,layout:r="constrained",height:n,aspectRatio:o,breakpoints:i,format:s})=>(i||(i=ba({width:e,layout:r})),i.sort((a,c)=>a-c).map(a=>{let c;return n&&o&&(c=Math.round(a/o)),{url:t,width:a,height:c,format:s}})),ao=t=>{let{src:e,transformer:r,operations:n}=t;return r?va(t).map(({url:o,...i})=>{const s=r(e,{...n,...i},t.options);return`${s==null?void 0:s.toString()} ${i.width}w`}).join(`,
`):""};function co({width:t,height:e,priority:r,layout:n="constrained",aspectRatio:o,...i}){return t=t&&Number(t)||void 0,e=e&&Number(e)||void 0,r?(i.loading||(i.loading="eager"),i.fetchpriority||(i.fetchpriority="high")):(i.loading||(i.loading="lazy"),i.decoding||(i.decoding="async")),i.alt===""&&(i.role||(i.role="presentation")),o?t?e||(e=Math.round(t/o)):e&&(t=Math.round(e*o)):t&&e&&(o=t/e),{width:t,height:e,aspectRatio:o,layout:n,...i}}function wa(t){let{src:e,transformer:r,background:n,layout:o,objectFit:i,breakpoints:s,width:a,height:c,aspectRatio:l,unstyled:f,operations:u,options:p,...h}=co(t);if(r&&n==="auto"){const _=l?Math.round(so/l):void 0,x=r(e,{width:so,height:_},p);x&&(n=x.toString())}const g={width:a,height:c,aspectRatio:l,layout:o,objectFit:i,background:n};if(h.sizes||(h.sizes=io(a,o)),f||(h.style={...ma(g),...h.style}),r){h.srcset=ao({src:e,width:a,height:c,aspectRatio:l,layout:o,breakpoints:s,transformer:r,operations:u,options:p});const _=r(e,{...u,width:a,height:c},p);_&&(e=_),(o==="fullWidth"||o==="constrained")&&(a=void 0,c=void 0)}return{...h,src:e==null?void 0:e.toString(),width:a,height:c}}function _a(t){return t?t.startsWith("image/")?{format:t.slice(6),mimeType:t}:{format:t,mimeType:`image/${t==="jpg"?"jpeg":t}`}:{}}function xa({media:t,type:e,...r}){let{src:n,transformer:o,layout:i,breakpoints:s,width:a,height:c,aspectRatio:l,sizes:f,loading:u,decoding:p,operations:h,options:g,..._}=co(r);if(!o)return{};const{format:x,mimeType:S}=_a(e);f||(f=io(a,i));const R=ao({src:n,width:a,height:c,aspectRatio:l,layout:i,breakpoints:s,transformer:o,format:x,operations:h,options:g}),L=o(n,{...h,width:a,height:c},g);L&&(n=L);const q={..._,sizes:f,srcset:R};return t&&(q.media=t),S&&(q.type=S),q}const ka={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare","imagedelivery.net":"cloudflare_images","wsrv.nl":"wsrv"},Sa={"imgix.net":"imgix","wp.com":"wordpress","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase","graphassets.com":"hygraph"},$a={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase","/v1/storage/buckets/":"appwrite"};function mt(t){if(!t)return t;const e=Number(t);return isNaN(e)?t:Math.round(e)}const Ca=t=>{const{pathname:e,search:r}=t;return`${e}${r}`},C=t=>t.hostname==="n"?Ca(t):t.toString(),b=(t,e)=>typeof t=="string"?new URL(t,"http://n/"):t,lo=t=>t===" "?"+":"%"+t.charCodeAt(0).toString(16).toUpperCase().padStart(2,"0"),uo=t=>t!=null&&t.startsWith("/")?t.slice(1):t,yr=t=>t!=null&&t.endsWith("/")?t.slice(0,-1):t,Ra=t=>t!=null&&t.endsWith("/")?t:`${t}/`,Ta=(t,e)=>{const r=lo(t),n=lo(e);function o(s){return encodeURIComponent(s).replaceAll(t,r).replaceAll(e,n)}function i(s,a){return`${o(s)}${t}${o(String(a))}`}return s=>(Array.isArray(s)?s:Object.entries(s)).flatMap(([c,l])=>l==null?[]:Array.isArray(l)?l.map(f=>i(c,f)):i(c,l)).join(e)},Pa=(t,e)=>t==="="&&e==="&"?Ia:r=>{const n=r.toString();return Object.fromEntries(n.split(e).map(o=>{const[i,s]=o.split(t);return[decodeURI(i),decodeURI(s)]}))};function Aa(t,e=4e3,r=4e3){let{width:n,height:o}=t;return n=Number(n)||void 0,o=Number(o)||void 0,n&&n>e&&(o&&(o=Math.round(o*e/n)),n=e),o&&o>r&&(n&&(n=Math.round(n*r/o)),o=r),{width:n,height:o}}function tt(t){const e=b(t),r=Object.fromEntries(e.searchParams.entries());for(const n in["width","height","quality"]){const o=r[n];if(o){const i=Number(o);isNaN(i)||(r[n]=i)}}return e.search="",{operations:r,src:C(e)}}function ho({keyMap:t={},formatMap:e={},defaults:r={}},n){n.format&&n.format in e&&(n.format=e[n.format]),n.width&&(n.width=mt(n.width)),n.height&&(n.height=mt(n.height));for(const o in t){if(!Object.prototype.hasOwnProperty.call(t,o))continue;const i=o;if(t[i]===!1){delete n[i];continue}t[i]&&n[i]&&(n[t[i]]=n[i],delete n[i])}for(const o in r){if(!Object.prototype.hasOwnProperty.call(r,o))continue;const i=o,s=r[i];if(!n[i]&&s!==void 0){if(t[i]===!1)continue;const a=t[i]??i;if(a in n)continue;n[a]=s}}return n}const fo=t=>Object.fromEntries(Object.entries(t).map(([e,r])=>[r,e]));function Na({keyMap:t={},formatMap:e={},defaults:r={}},n){const o=fo(t),i=fo(e),s=ho({keyMap:o,formatMap:i,defaults:r},n);s.width&&(s.width=mt(s.width)),s.height&&(s.height=mt(s.height));const a=Number(s.quality);return isNaN(a)||(s.quality=a),s}const Ia=t=>{const e=b(t);return Object.fromEntries(e.searchParams.entries())};function Ne({kvSeparator:t="=",paramSeparator:e="&",...r}={}){const n=Ta(t,e);return o=>{const i=ho(r,o);return n(i)}}function Ma({kvSeparator:t="=",paramSeparator:e="&",defaults:r,...n}={}){const o=Pa(t,e);return i=>{const s=i?o(i):{};return Na(n,s)}}function N(t){const e=Ne(t),r=Ma(t);return{operationsGenerator:e,operationsParser:r}}function po(t){if(t!=null)try{return!!JSON.parse(t==null?void 0:t.toString())}catch{return!!t}}const Ea=t=>Object.fromEntries(Object.entries(t).filter(([,e])=>e!==void 0));function P(t,e){return((r,n,o)=>{const i=t(r,o);return i?e(i.src,{...i.operations,...Ea(n)},{...i.options,...o}):e(r,n,o)})}const qa=new Map(Object.entries(ka)),Oa=Object.entries(Sa),La=Object.entries($a);function yt(t){return Ua(t)||rt(t)}function Ua(t){var n;if(typeof t=="string"&&!t.startsWith("https://"))return!1;const{hostname:e}=b(t),r=qa.get(e);return r||((n=Oa.find(([o])=>e.endsWith(o)))==null?void 0:n[1])||!1}function rt(t){var r;const{pathname:e}=b(t);return((r=La.find(([n])=>e.startsWith(n)))==null?void 0:r[1])||!1}const za="/view?",Qa="/preview?",{operationsGenerator:Fa,operationsParser:Va}=N({keyMap:{format:"output"},kvSeparator:"=",paramSeparator:"&"}),ja=P(t=>{if(rt(t)!=="appwrite")return null;const e=b(t),r=Va(e);delete r.project;const n=e.searchParams.get("project")??"";return e.search="",e.searchParams.append("project",n),{src:e.href,operations:r}},(t,e)=>{const r=b(t.toString().replace(za,Qa)),n=r.searchParams.get("project")??"",o=Fa(e);return r.search=o,r.searchParams.append("project",n),C(r)}),go="/_image",{operationsParser:Ba,operationsGenerator:Da}=N({keyMap:{format:"f",width:"w",height:"h",quality:"q"},defaults:{fit:"cover"}}),br=(t,e,r)=>{const n=b(`${yr((r==null?void 0:r.baseUrl)??"")}${(r==null?void 0:r.endpoint)??go}`),o=Da(e);return n.search=o,n.searchParams.set("href",t.toString()),C(n)},Wa=t=>{const e=b(t),r=e.searchParams.get("href");if(!r)return null;e.searchParams.delete("href");const n=Ba(e);return{src:r,operations:n,options:{baseUrl:e.origin}}},Ga=(t,e,r={})=>{if(b(t).pathname!==((r==null?void 0:r.endpoint)??go))return br(t,e,r);const o=Wa(t);return o?(r.baseUrl??(r.baseUrl=o.options.baseUrl),br(o.src,{...o.operations,...e},r)):br(t,e,r)},Ha=Ne({defaults:{fit:"cover",format:"webp",sharp:!0}}),Ja=P(tt,(t,e)=>{const r=Ha(e),n=b(t);return n.search=r,C(n)}),Ka=Ne({keyMap:{format:"output"}}),Xa=P(tt,(t,e)=>{const r=Ka(e),n=b(t);return n.search=r,C(n)}),Za=(t,e)=>{const{width:r,height:n}=e;return r&&n&&(e.aspect_ratio??(e.aspect_ratio=`${Math.round(Number(r))}:${Math.round(Number(n))}`)),Xa(t,e)},{operationsGenerator:Ya,operationsParser:ec}=N({keyMap:{format:"f"},defaults:{format:"auto",fit:"cover"},formatMap:{jpg:"jpeg"},kvSeparator:"=",paramSeparator:","}),tc=P((t,e)=>{if(rt(t)!=="cloudflare")return null;const r=b(t),[,,,n,...o]=r.pathname.split("/"),i=ec(n);return{src:C(b(o.join("/"))),operations:i,options:{domain:(e==null?void 0:e.domain)??(r.hostname==="n"?void 0:r.hostname)}}},(t,e,r)=>{const n=Ya(e),o=b(r!=null&&r.domain?`https://${r.domain}`:"/");return o.pathname=`/cdn-cgi/image/${n}/${uo(t.toString())}`,C(o)}),rc=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,nc=/https?:\/\/(?<host>imagedelivery.net)\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,{operationsGenerator:oc,operationsParser:ic}=N({keyMap:{width:"w",height:"h",format:"f"},defaults:{fit:"cover"},kvSeparator:"=",paramSeparator:","});function mo(t,e){const{host:r,accountHash:n,imageId:o}=t;if(!r||!n||!o)throw new Error("Missing required Cloudflare Images options");return["https:/",...r==="imagedelivery.net"?[r]:[r,"cdn-cgi","imagedelivery"],n,o,e].filter(Boolean).join("/")}const sc=(t,e,r={})=>{const n=oc(e),o=mo(r,n);return C(b(o))},ac=t=>{var l;const e=b(t),r=[...e.toString().matchAll(rc),...e.toString().matchAll(nc)];if(!((l=r[0])!=null&&l.groups))return null;const{host:n,accountHash:o,imageId:i,transformations:s}=r[0].groups,a=ic(s||""),c={host:n,accountHash:o,imageId:i};return{src:mo(c),operations:a,options:c}},cc=(t,e,r={})=>{const n=ac(t);if(!n)throw new Error("Invalid Cloudflare Images URL");const o={...n.operations,...e};return sc(n.src,o,{...n.options,...r})},{operationsGenerator:lc,operationsParser:uc}=N({keyMap:{format:"force_format",width:"w",height:"h",quality:"q"},defaults:{org_if_sml:1}}),dc=P((t,e={})=>{const r=b(t);if(yt(r)!=="cloudimage")return null;const n=uc(r);let o=r.pathname;return n.ci_url_encoded&&(o=decodeURIComponent(o),delete n.ci_url_encoded),e.token??(e.token=r.hostname.replace(".cloudimg.io","")),{src:`${r.protocol}/${o}`,operations:n,options:e}},(t,e={},{token:r}={})=>{if(!r)throw new Error("Token is required for Cloudimage URLs"+t);let n=t.toString();n=n.replace(/^https?:\/\//,""),n.includes("?")&&(e.ci_url_encoded=1,n=encodeURIComponent(n));const o=lc(e),i=new URL(`https://${r}.cloudimg.io/`);return i.pathname=n,i.search=o,i.toString()}),hc=/https?:\/\/(?<host>res\.cloudinary\.com)\/(?<cloudName>[a-zA-Z0-9-]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<id>(?:[^\s\/]+\/)*[^\s\/]+(?:\.[a-zA-Z0-9]+)?)$/,fc=/https?:\/\/(?<host>(?<cloudName>[a-zA-Z0-9-]+)-res\.cloudinary\.com|[a-zA-Z0-9.-]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<id>(?:[^\s\/]+\/)*[^\s\/]+(?:\.[a-zA-Z0-9]+)?)$/,{operationsGenerator:pc,operationsParser:gc}=N({keyMap:{width:"w",height:"h",format:"f",quality:"q"},defaults:{format:"auto",c:"lfill"},kvSeparator:"_",paramSeparator:","});function mc({host:t,cloudName:e,assetType:r,deliveryType:n,signature:o,transformations:i,version:s,id:a}){return["https:/",t,t==="res.cloudinary.com"?e:void 0,r,n,o,i,s,a].filter(Boolean).join("/")}function yc(t){let e=t.toString().match(hc);return e!=null&&e.length||(e=t.toString().match(fc)),e!=null&&e.length?e.groups||{}:null}const bc=(t,e)=>{const r=yc(t.toString());if(!r)return t.toString();const n=gc(r.transformations||"");return r.transformations=pc({...n,...e}),mc(r)},vc=Ne({keyMap:{format:"fm",width:"w",height:"h",quality:"q"},defaults:{fit:"fill"}}),wc=P(tt,(t,e)=>{const r=vc(e),n=new URL(t);return n.search=r,C(n)}),_c=(t,e)=>{const{width:r,height:n}=Aa(e,4e3,4e3);return wc(t,{...e,width:r,height:n})},xc=Ne({defaults:{auto:"webp",disable:"upscale"}}),kc=P(t=>{const{src:e,operations:r}=tt(t)??{};if(!r||!e)return null;const{origin:n}=b(t);return{src:e,operations:r,options:{baseURL:n}}},(t,e,{baseURL:r="https://images.contentstack.io/"}={})=>{e.width&&e.height&&(e.fit??(e.fit="crop"));const n=xc(e),o=b(t);return o.hostname==="n"&&(o.protocol="https:",o.hostname=new URL(r).hostname),o.search=n,C(o)}),Sc=Ne({defaults:{withoutEnlargement:!0,fit:"cover"}}),$c=P(t=>{var r;const e=tt(t);if((r=e==null?void 0:e.operations)!=null&&r.transforms&&typeof e.operations.transforms=="string")try{e.operations.transforms=JSON.parse(e.operations.transforms)}catch{return null}return e},(t,e)=>{Array.isArray(e.transforms)&&(e.transforms=JSON.stringify(e.transforms));const r=Sc(e),n=b(t);return n.search=r,C(n)}),Cc=/https:\/\/(?<region>[a-z0-9-]+)\.graphassets\.com\/(?<envId>[a-zA-Z0-9]+)(?:\/(?<transformations>.*?))?\/(?<handle>[a-zA-Z0-9]+)$/;N({keyMap:{width:"width",height:"height",format:"format"},defaults:{format:"auto",fit:"crop"}});const yo=t=>{const r=b(t).toString().match(Cc);if(!(r!=null&&r.groups))return null;const{region:n,envId:o,handle:i,transformations:s}=r.groups,a={};return s&&s.split("/").forEach(l=>{const[f,u]=l.split("=");f==="resize"&&u?u.split(",").forEach(p=>{const[h,g]=p.split(":");h==="width"||h==="height"?a[h]=Number(g):h==="fit"&&(a.fit=g)}):f==="output"&&u?u.split(",").forEach(p=>{const[h,g]=p.split(":");h==="format"&&(a.format=g)}):f==="auto_image"&&(a.format="auto")}),{src:`https://${n}.graphassets.com/${o}/${i}`,operations:a,options:{region:n,envId:o,handle:i}}},Rc=P(yo,(t,e,r={})=>{const n=yo(t);if(!n)throw new Error("Invalid Hygraph URL");const{region:o,envId:i,handle:s}={...n.options,...r},a=[];if(e.width||e.height){const u=[];e.width&&e.height?u.push("fit:crop"):e.fit&&u.push(`fit:${e.fit}`),e.width&&u.push(`width:${e.width}`),e.height&&u.push(`height:${e.height}`),u.length&&a.push(`resize=${u.join(",")}`)}e.format==="auto"||!e.format&&!n.operations.format?a.push("auto_image"):e.format&&a.push(`output=format:${e.format}`);const c=`https://${o}.graphassets.com/${i}`,l=a.length>0?"/"+a.join("/"):"",f=b(`${c}${l}/${s}`);return C(f)}),{operationsGenerator:Tc,operationsParser:Pc}=N({keyMap:{width:"w",height:"h",format:"f"},defaults:{m:"cropbox"},kvSeparator:"_",paramSeparator:"/"}),Ac=P(t=>{const e=b(t),r=e.searchParams.get("imgeng");if(!r)return null;const n=Pc(r);return e.searchParams.delete("imgeng"),{src:C(e),operations:n}},(t,e)=>{const r=Tc(e),n=b(t);return n.searchParams.set("imgeng",r),C(n)}),{operationsGenerator:Nc,operationsParser:Ic}=N({keyMap:{width:"w",height:"h",format:"f",quality:"q"},defaults:{c:"maintain_ratio",fo:"auto"},kvSeparator:"-",paramSeparator:","}),Mc=P(t=>{const e=b(t);let r=null,n=e.pathname;if(e.searchParams.has("tr"))r=e.searchParams.get("tr"),e.searchParams.delete("tr");else{const i=e.pathname.split("/"),s=i.findIndex(a=>a.startsWith("tr:"));s!==-1&&(r=i[s].slice(3),n=i.slice(0,s).concat(i.slice(s+1)).join("/"))}if(!r)return null;e.pathname=n;const o=Ic(r);return{src:C(e),operations:o}},(t,e)=>{const r=Nc(e),n=b(t);return n.searchParams.set("tr",r),C(n)}),{operationsGenerator:Ec,operationsParser:qc}=N({keyMap:{format:"fm",width:"w",height:"h",quality:"q"},defaults:{fit:"min",auto:"format"}}),Oc=P(t=>{const e=b(t),r=qc(t);return e.search="",{src:C(e),operations:r}},(t,e)=>{const r=Ec(e),n=b(t);return n.search=r,n.searchParams.has("fm")&&n.searchParams.get("auto")==="format"&&n.searchParams.delete("auto"),C(n)}),{operationsGenerator:Lc,operationsParser:Uc}=N({keyMap:{width:"w",height:"h",quality:"q",format:"f"},defaults:{f:"auto"},kvSeparator:"_",paramSeparator:","}),bo=(t,e,r)=>{e.width&&e.height&&(e.s=`${e.width}x${e.height}`,delete e.width,delete e.height);const n=Lc(e),o=(r==null?void 0:r.baseURL)??"/_ipx",i=b(o);return i.pathname=`${yr(i.pathname)}/${n}/${uo(t.toString())}`,C(i)},zc=t=>{const e=b(t),[,r,n,...o]=e.pathname.split("/");if(!n||!o.length)return null;const i=Uc(n);if(i.s){const[s,a]=i.s.split("x").map(Number);i.width=s,i.height=a,delete i.s}return{src:"/"+o.join("/"),operations:i,options:{baseURL:`${e.origin}/${r}`}}},Qc=(t,e,r)=>{const n=b(t),o=r==null?void 0:r.baseURL;if(o&&n.toString().startsWith(o)||n.pathname.startsWith("/_ipx")){const i=zc(t);if(i)return bo(i.src,{...i.operations,...e},{baseURL:i.options.baseURL})}return bo(t,e,{baseURL:o})},vo=["enlarge","flip","flop","negate","normalize","grayscale","removealpha","olrepeat","progressive","adaptive","lossless","nearlossless","metadata"],{operationsGenerator:Fc,operationsParser:Vc}=N({defaults:{fit:"cover"},formatMap:{jpg:"jpeg"}}),jc=P(t=>{const e=b(t),r=Vc(e);for(const n of vo)r[n]!==void 0&&(r[n]=po(r[n]));return e.search="",{src:C(e),operations:r}},(t,e)=>{const r=b(t);for(const n of vo)e[n]!==void 0&&(e[n]=e[n]?1:0);return r.search=Fc(e),C(r)}),{operationsGenerator:Bc,operationsParser:Dc}=N({formatMap:{jpg:"jpeg"},keyMap:{format:"fm",width:"w",height:"h",quality:"q"}}),Wc=P(t=>{const e=b(t),r=Dc(e);return r.lossless!==void 0&&(r.lossless=po(r.lossless)),e.search="",{src:C(e),operations:r}},(t,e)=>{const r=b(t);return e.lossless!==void 0&&(e.lossless=e.lossless?1:0),e.width&&e.height&&(e.fit="crop"),r.search=Bc(e),C(r)}),{operationsGenerator:Gc,operationsParser:Hc}=N({defaults:{fit:"cover"},keyMap:{format:"fm",width:"w",height:"h",quality:"q"}}),Jc=P(t=>{if(rt(t)!=="netlify")return null;const e=b(t),r=Hc(e);delete r.url;const n=e.searchParams.get("url")||"";return e.search="",{src:n,operations:r,options:{baseUrl:e.hostname==="n"?void 0:e.origin}}},(t,e,r={})=>{const n=b(`${r.baseUrl||""}/.netlify/images`);return n.search=Gc(e),n.searchParams.set("url",t.toString()),C(n)}),{operationsGenerator:Kc,operationsParser:Xc}=N({keyMap:{width:"w",quality:"q",height:!1,format:!1},defaults:{q:75}}),wo=(t,e,r={})=>{const n=b(`${r.baseUrl||""}/${r.prefix||"_vercel"}/image`);return n.search=Kc(e),n.searchParams.append("url",t.toString()),C(n)},_o=(t,e={})=>{if(!["vercel","nextjs"].includes(rt(t)||""))return null;const r=b(t),n=r.searchParams.get("url")||"";r.searchParams.delete("url");const o=Xc(r);return r.search="",{src:n,operations:o,options:{baseUrl:e.baseUrl??r.origin}}},Zc=P(_o,wo),Yc=P((t,e)=>_o(t,e),(t,e,r={})=>wo(t,e,{...r,prefix:"_next"})),{operationsGenerator:el,operationsParser:tl}=N({keyMap:{width:"wid",height:"hei",quality:"qlt",format:"fmt"},defaults:{fit:"crop,0"}}),xo="https://s7d1.scene7.com/is/image/",rl=P(t=>{if(yt(t)!=="scene7")return null;const e=new URL(t,xo),r=tl(e);return e.search="",{src:e.toString(),operations:r}},(t,e)=>{const r=new URL(t,xo);return r.search=el(e),C(r)}),vr=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,{operationsGenerator:nl,operationsParser:ol}=N({keyMap:{format:!1}}),il=P(t=>{const e=b(t),r=vr.exec(e.pathname),n=ol(e);if(r){const[,,,i,s,a]=r;i&&s&&!n.width&&!n.height&&(n.width=parseInt(i,10),n.height=parseInt(s,10)),a&&(n.crop??(n.crop=a))}const o=e.pathname.replace(vr,"$1$6");e.pathname=o;for(const i of["width","height","crop","pad_color","format"])e.searchParams.delete(i);return{src:e.toString(),operations:n}},(t,e)=>{const r=b(t),n=r.pathname.replace(vr,"$1$6");return r.pathname=n,r.search=nl(e),C(r)}),sl=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/,al=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/,cl=/:(?![^(]*\))/,ll=t=>t?Object.fromEntries(t.split(cl).map(e=>{if(!e)return[];const[r,n]=e.split("(");return[r,n.replace(")","")]})):{},ul=t=>{if(!t)return;const e=Object.entries(t).map(([r,n])=>`${r}(${n??""})`);if(e.length!==0)return`filters:${e.join(":")}`},dl=P(t=>{const e=b(t),n=(e.hostname==="img2.storyblok.com"?al:sl).exec(e.pathname);if(!n||!n.groups)return null;const{id:o,crop:i,width:s,height:a,filters:c,flipx:l,flipy:f}=n.groups,{format:u,...p}=ll(c??"");e.hostname==="img2.storyblok.com"&&(e.hostname="a.storyblok.com");const h=Object.fromEntries([["width",Number(s)||void 0],["height",Number(a)||void 0],["format",u],["crop",i],["filters",p],["flipx",l],["flipy",f]].filter(([g,_])=>_!==void 0));return{src:`${e.origin}${o}`,operations:h}},(t,e)=>{const r=b(t),{width:n=0,height:o=0,format:i,crop:s,filters:a={},flipx:c="",flipy:l=""}=e,f=`${c}${n}x${l}${o}`;i&&(a.format=i);const u=[r.pathname,"m",s,f,ul(a)].filter(Boolean);return r.pathname=u.join("/"),C(r)}),bt="/storage/v1/object/public/",vt="/storage/v1/render/image/public/",hl=t=>t.pathname.startsWith(vt),{operationsGenerator:fl,operationsParser:pl}=N({}),gl=P(t=>{const e=b(t),r=pl(e),n=hl(e),o=e.pathname.replace(vt,"").replace(bt,"");return n?{src:`${e.origin}${bt}${o}`,operations:r}:{src:C(e),operations:r}},(t,e)=>{const r=b(t),n=r.pathname.replace(vt,bt);return r.pathname=n,e.format&&e.format!=="origin"&&delete e.format,r.search=fl(e),C(r).replace(bt,vt)}),ko=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)(?:\/(?<filename>[^\/]+)?)?/,{operationsGenerator:ml,operationsParser:yl}=N({keyMap:{width:!1,height:!1},defaults:{format:"auto"},kvSeparator:"/",paramSeparator:"/-/"}),bl=P(t=>{const e=b(t),r=ko.exec(e.toString());if(!r||!r.groups)return null;const{host:n,uuid:o}=r.groups,[,...i]=e.pathname.split("/-/"),s=yl(i.join("/-/")||"");if(s.resize){const[a,c]=s.resize.split("x");a&&(s.width=parseInt(a)),c&&(s.height=parseInt(c)),delete s.resize}return{src:`https://${n}/${o}/`,operations:s,options:{host:n}}},(t,e,r={})=>{var a;const n=b(t),o=r.host||n.hostname,i=ko.exec(n.toString());i!=null&&i.groups&&(n.pathname=`/${i.groups.uuid}/`),e.resize=e.resize||`${e.width??""}x${e.height??""}`,delete e.width,delete e.height;const s=Ra(ml(e));return n.hostname=o,n.pathname=yr(n.pathname)+(s?`/-/${s}`:"")+(((a=i==null?void 0:i.groups)==null?void 0:a.filename)??""),C(n)}),{operationsGenerator:vl,operationsParser:wl}=N({keyMap:{width:"w",height:"h"},defaults:{crop:"1"}}),_l=P(t=>{const e=b(t),r=wl(e);return r.crop!==void 0&&(r.crop=r.crop==="1"),e.search="",{src:C(e),operations:r}},(t,e)=>{const r=b(t),{crop:n}=e;return typeof n<"u"&&n!=="0"&&(e.crop=n?"1":"0"),r.search=vl(e),C(r)}),{operationsGenerator:xl,operationsParser:kl}=N({keyMap:{width:"w",height:"h",format:"output",quality:"q"},defaults:{fit:"cover"}}),Sl=P(t=>{const e=b(t),r=e.searchParams.get("url");if(!r)return null;let n=r;!n.startsWith("http://")&&!n.startsWith("https://")&&(n="https://"+n),e.searchParams.delete("url");const o=kl(e);return{src:n,operations:o}},(t,e)=>{const r=new URL("https://wsrv.nl/"),o=(typeof t=="string"?t:t.toString()).replace(/^https?:\/\//,"");r.searchParams.set("url",o);const i=xl(e),s=new URLSearchParams(i);for(const[a,c]of s)a!=="url"&&r.searchParams.set(a,c);return C(r)}),$l={appwrite:ja,astro:Ga,"builder.io":Ja,bunny:Za,cloudflare:tc,cloudflare_images:cc,cloudimage:dc,cloudinary:bc,contentful:_c,contentstack:kc,directus:$c,hygraph:Rc,imageengine:Ac,imagekit:Mc,imgix:Oc,ipx:Qc,keycdn:jc,"kontent.ai":Wc,netlify:Jc,nextjs:Yc,scene7:rl,shopify:il,storyblok:dl,supabase:gl,uploadcare:bl,vercel:Zc,wordpress:_l,wsrv:Sl};function So(t){if(t)return $l[t]}function Cl({cdn:t,fallback:e,operations:r={},options:n,...o}){if(t??(t=yt(o.src)||e),!t)return o;const i=So(t);return i?wa({...o,operations:r==null?void 0:r[t],options:n==null?void 0:n[t],transformer:i}):o}function Rl({cdn:t,fallback:e,operations:r,options:n,...o}){if(t??(t=yt(o.src)||e),!t)return o;const i=So(t);return i?xa({...o,operations:r==null?void 0:r[t],options:n==null?void 0:n[t],transformer:i}):o}var Tl=he(function(e,r){const n=mr(Cl(e));return d("img",{...n,ref:r})});he(function(e,r){const n=mr(Rl(e));return d("source",{...n,ref:r})});function Pl(t,e=150){if(!t)return"";try{const r=JSON.parse(t),n=$o(r);return n.length>e?n.substring(0,e).trim()+"...":n}catch{return t.substring(0,e)}}function $o(t){return t?t.type==="text"?t.text||"":t.content&&Array.isArray(t.content)?t.content.map($o).join(" "):"":""}function Al(t){if(!t)return"";const e=typeof t=="number"?new Date(t):new Date(t),r=new Date,n=Math.floor((r.getTime()-e.getTime())/(1e3*60*60*24));return n===0?"Today":n===1?"Yesterday":n<7?`${n} days ago`:n<30?`${Math.floor(n/7)} weeks ago`:e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:e.getFullYear()!==r.getFullYear()?"numeric":void 0})}function Nl({organizationSlug:t}){const e=ro(gr.widget.getWidgetChangelogs,{organizationSlug:t}),r=e===void 0,n=e===null?"Failed to load updates":null;return r?d("div",{className:"flex flex-col",children:[d("div",{className:"border-b px-6 pb-6",children:[d("h2",{className:"text-2xl font-bold",children:"Changelog"}),d("p",{className:"text-muted-foreground",children:"Our latest updates"})]}),d("div",{className:"text-muted-foreground py-12 text-center text-sm",children:"Loading updates..."})]}):n?d("div",{className:"flex flex-col",children:[d("div",{className:"border-b px-6 pb-6",children:[d("h2",{className:"text-2xl font-bold",children:"Changelog"}),d("p",{className:"text-muted-foreground",children:"Our latest updates"})]}),d("div",{className:"text-muted-foreground py-12 text-center text-sm",children:n})]}):!e||e.length===0?d("div",{className:"flex flex-col",children:[d("div",{className:"border-b px-6 pb-6",children:[d("h2",{className:"text-2xl font-bold",children:"Changelog"}),d("p",{className:"text-muted-foreground",children:"Our latest updates"})]}),d("div",{className:"text-muted-foreground py-12 text-center text-sm",children:"No updates yet."})]}):d("div",{className:"flex flex-col overflow-hidden",children:[d("div",{className:"border-b px-6 pb-6",children:[d("h2",{className:"text-2xl font-bold",children:"Changelog"}),d("p",{className:"text-muted-foreground",children:"Our latest updates"})]}),d("div",{className:"flex-1 overflow-y-auto",children:d("div",{className:"divide-y",children:e.map(o=>d("article",{className:"px-6 py-5",children:[o.featuredImage&&d(Tl,{src:o.featuredImage,alt:o.title,aspectRatio:1.7777777777777777,width:330,fallback:"wsrv",className:"mb-3 rounded-lg"}),d("div",{className:"mb-2 flex items-center gap-2",children:d("time",{className:"text-muted-foreground text-xs",children:Al(o.publishedAt)})}),d("h3",{className:"mb-2 font-semibold leading-tight",children:o.title}),d("p",{className:"text-muted-foreground text-sm leading-relaxed",children:Pl(o.content)})]},o.id))})})]})}/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ml=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Co=t=>{const e=Ml(t);return e.charAt(0).toUpperCase()+e.slice(1)},Ro=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),El=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ql={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=he(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:s,...a},c)=>V("svg",{ref:c,...ql,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Ro("lucide",o),...!i&&!El(a)&&{"aria-hidden":"true"},...a},[...s.map(([l,f])=>V(l,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(t,e)=>{const r=he(({className:n,...o},i)=>V(Ol,{ref:i,iconNode:e,className:Ro(`lucide-${Il(Co(t))}`,`lucide-${t}`,n),...o}));return r.displayName=Co(t),r};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Ie("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=Ie("clock-8",[["path",{d:"M12 6v6l-4 2",key:"imc3wl"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Ie("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Ie("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Ie("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Ie("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Fl({organizationSlug:t,ssoToken:e,host:r="https://app.thoughtbase.app"}){const n=ro(gr.widget.getWidgetIdeas,{organizationSlug:t}),o=(n==null?void 0:n.filter(a=>a.status==="in_progress"))||[],i=(n==null?void 0:n.filter(a=>a.status==="planned"))||[],s=a=>{const c=`${r}/org/${t}/${a.id}`;return e?`${c}?sso_token=${encodeURIComponent(e)}`:c};return d("div",{className:"flex flex-col overflow-hidden",children:[d("div",{className:"border-b px-6 pb-6",children:[d("h2",{className:"text-2xl font-bold",children:"Coming Soon"}),d("p",{className:"text-muted-foreground",children:"See what we're working on"})]}),d("div",{className:"flex-1 overflow-y-auto",children:[o.length>0&&d("div",{className:"flex flex-1 flex-col gap-4 px-6 pt-6 pb-2",children:d("div",{className:"flex w-full flex-col gap-2",children:[d("span",{className:"text-muted-foreground mb-3 text-[10px] tracking-widest uppercase",children:"In progress"}),o.map((a,c)=>d("div",{className:"group relative w-full cursor-pointer",children:d("a",{href:s(a),target:"_blank",rel:"noopener noreferrer",className:"flex w-full gap-3",children:[d("div",{className:"flex flex-col",children:[d("div",{className:"flex size-5 shrink-0 items-center justify-center rounded-full bg-purple-100 text-purple-500",children:d(To,{className:"size-3"})}),c!==o.length-1&&d("div",{className:"mt-2 ml-2.5 h-full w-px -translate-x-1/2 border-l border-dashed"})]}),d("div",{className:"w-full flex-1 pb-5",children:[d("div",{className:"justify flex items-center justify-between gap-2",children:[d("h4",{className:"text-sm leading-none font-medium",children:a.title}),d("div",{className:"text-muted-foreground flex items-center gap-1",children:[d(Po,{className:"size-3.5 fill-current"}),d("span",{className:"mt-0.5 text-xs",children:a.reactionCount})]})]}),d("p",{className:"text-muted-foreground mt-2 line-clamp-2 text-xs font-light",children:a.description})]})]})},a.id))]})}),i.length>0&&d("div",{className:"flex flex-1 flex-col gap-4 border-t px-6 pt-6 pb-2",children:d("div",{className:"flex w-full flex-col gap-2",children:[d("span",{className:"text-muted-foreground mb-3 text-[10px] tracking-widest uppercase",children:"Planned"}),i.map((a,c)=>d("div",{className:"group relative w-full cursor-pointer",children:d("a",{href:s(a),target:"_blank",rel:"noopener noreferrer",className:"flex w-full gap-3",children:[d("div",{className:"flex flex-col",children:[d("div",{className:"flex size-5 shrink-0 items-center justify-center rounded-full bg-blue-100 text-blue-500",children:d(To,{className:"size-3"})}),c!==i.length-1&&d("div",{className:"mt-2 ml-2.5 h-full w-px -translate-x-1/2 border-l border-dashed"})]}),d("div",{className:"w-full flex-1 pb-5",children:[d("div",{className:"justify flex items-center justify-between gap-2",children:[d("h4",{className:"text-sm leading-none font-medium",children:a.title}),d("div",{className:"text-muted-foreground flex items-center gap-1",children:[d(Po,{className:"size-3.5 fill-current"}),d("span",{className:"mt-0.5 text-xs",children:a.reactionCount})]})]}),d("p",{className:"text-muted-foreground mt-2 line-clamp-2 text-xs font-light",children:a.description})]})]})},a.id))]})})]}),o.length===0&&i.length===0&&d("div",{className:"text-muted-foreground py-8 text-center text-sm",children:"Nothing on the roadmap yet."})]})}function Ao(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Vl(...t){return e=>{let r=!1;const n=t.map(o=>{const i=Ao(o,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){const i=n[o];typeof i=="function"?i():Ao(t[o],null)}}}}var jl=Symbol.for("react.lazy"),wt=Ei[" use ".trim().toString()];function Bl(t){return typeof t=="object"&&t!==null&&"then"in t}function No(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===jl&&"_payload"in t&&Bl(t._payload)}function Dl(t){const e=Gl(t),r=he((n,o)=>{let{children:i,...s}=n;No(i)&&typeof wt=="function"&&(i=wt(i._payload));const a=ye.toArray(i),c=a.find(Jl);if(c){const l=c.props.children,f=a.map(u=>u===c?ye.count(l)>1?ye.only(null):se(l)?l.props.children:null:u);return d(e,{...s,ref:o,children:se(l)?lt(l,void 0,f):null})}return d(e,{...s,ref:o,children:i})});return r.displayName=`${t}.Slot`,r}var Wl=Dl("Slot");function Gl(t){const e=he((r,n)=>{let{children:o,...i}=r;if(No(o)&&typeof wt=="function"&&(o=wt(o._payload)),se(o)){const s=Xl(o),a=Kl(i,o.props);return o.type!==J&&(a.ref=n?Vl(n,s):s),lt(o,a)}return ye.count(o)>1?ye.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Hl=Symbol("radix.slottable");function Jl(t){return se(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Hl}function Kl(t,e){const r={...e};for(const n in e){const o=t[n],i=e[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...a)=>{const c=i(...a);return o(...a),c}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...t,...r}}function Xl(t){var n,o;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Io(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=Io(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Mo(){for(var t,e,r=0,n="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=Io(t))&&(n&&(n+=" "),n+=e);return n}const Eo=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qo=Mo,Zl=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return qo(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:i}=e,s=Object.keys(o).map(l=>{const f=r==null?void 0:r[l],u=i==null?void 0:i[l];if(f===null)return null;const p=Eo(f)||Eo(u);return o[l][p]}),a=r&&Object.entries(r).reduce((l,f)=>{let[u,p]=f;return p===void 0||(l[u]=p),l},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((l,f)=>{let{class:u,className:p,...h}=f;return Object.entries(h).every(g=>{let[_,x]=g;return Array.isArray(x)?x.includes({...i,...a}[_]):{...i,...a}[_]===x})?[...l,u,p]:l},[]);return qo(t,s,c,r==null?void 0:r.class,r==null?void 0:r.className)},Yl=(t,e)=>{const r=new Array(t.length+e.length);for(let n=0;n<t.length;n++)r[n]=t[n];for(let n=0;n<e.length;n++)r[t.length+n]=e[n];return r},eu=(t,e)=>({classGroupId:t,validator:e}),Oo=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),_t="-",Lo=[],tu="arbitrary..",ru=t=>{const e=ou(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{if(s.startsWith("[")&&s.endsWith("]"))return nu(s);const a=s.split(_t),c=a[0]===""&&a.length>1?1:0;return Uo(a,c,e)},getConflictingClassGroupIds:(s,a)=>{if(a){const c=n[s],l=r[s];return c?l?Yl(l,c):c:l||Lo}return r[s]||Lo}}},Uo=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const o=t[e],i=r.nextPart.get(o);if(i){const l=Uo(t,e+1,i);if(l)return l}const s=r.validators;if(s===null)return;const a=e===0?t.join(_t):t.slice(e).join(_t),c=s.length;for(let l=0;l<c;l++){const f=s[l];if(f.validator(a))return f.classGroupId}},nu=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),n=e.slice(0,r);return n?tu+n:void 0})(),ou=t=>{const{theme:e,classGroups:r}=t;return iu(r,e)},iu=(t,e)=>{const r=Oo();for(const n in t){const o=t[n];wr(o,r,n,e)}return r},wr=(t,e,r,n)=>{const o=t.length;for(let i=0;i<o;i++){const s=t[i];su(s,e,r,n)}},su=(t,e,r,n)=>{if(typeof t=="string"){au(t,e,r);return}if(typeof t=="function"){cu(t,e,r,n);return}lu(t,e,r,n)},au=(t,e,r)=>{const n=t===""?e:zo(e,t);n.classGroupId=r},cu=(t,e,r,n)=>{if(uu(t)){wr(t(n),e,r,n);return}e.validators===null&&(e.validators=[]),e.validators.push(eu(r,t))},lu=(t,e,r,n)=>{const o=Object.entries(t),i=o.length;for(let s=0;s<i;s++){const[a,c]=o[s];wr(c,zo(e,a),r,n)}},zo=(t,e)=>{let r=t;const n=e.split(_t),o=n.length;for(let i=0;i<o;i++){const s=n[i];let a=r.nextPart.get(s);a||(a=Oo(),r.nextPart.set(s,a)),r=a}return r},uu=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,du=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),n=Object.create(null);const o=(i,s)=>{r[i]=s,e++,e>t&&(e=0,n=r,r=Object.create(null))};return{get(i){let s=r[i];if(s!==void 0)return s;if((s=n[i])!==void 0)return o(i,s),s},set(i,s){i in r?r[i]=s:o(i,s)}}},_r="!",Qo=":",hu=[],Fo=(t,e,r,n,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:n,isExternal:o}),fu=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=o=>{const i=[];let s=0,a=0,c=0,l;const f=o.length;for(let _=0;_<f;_++){const x=o[_];if(s===0&&a===0){if(x===Qo){i.push(o.slice(c,_)),c=_+1;continue}if(x==="/"){l=_;continue}}x==="["?s++:x==="]"?s--:x==="("?a++:x===")"&&a--}const u=i.length===0?o:o.slice(c);let p=u,h=!1;u.endsWith(_r)?(p=u.slice(0,-1),h=!0):u.startsWith(_r)&&(p=u.slice(1),h=!0);const g=l&&l>c?l-c:void 0;return Fo(i,h,p,g)};if(e){const o=e+Qo,i=n;n=s=>s.startsWith(o)?i(s.slice(o.length)):Fo(hu,!1,s,void 0,!0)}if(r){const o=n;n=i=>r({className:i,parseClassName:o})}return n},pu=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,n)=>{e.set(r,1e6+n)}),r=>{const n=[];let o=[];for(let i=0;i<r.length;i++){const s=r[i],a=s[0]==="[",c=e.has(s);a||c?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(s)):o.push(s)}return o.length>0&&(o.sort(),n.push(...o)),n}},gu=t=>({cache:du(t.cacheSize),parseClassName:fu(t),sortModifiers:pu(t),...ru(t)}),mu=/\s+/,yu=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:i}=e,s=[],a=t.trim().split(mu);let c="";for(let l=a.length-1;l>=0;l-=1){const f=a[l],{isExternal:u,modifiers:p,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:_}=r(f);if(u){c=f+(c.length>0?" "+c:c);continue}let x=!!_,S=n(x?g.substring(0,_):g);if(!S){if(!x){c=f+(c.length>0?" "+c:c);continue}if(S=n(g),!S){c=f+(c.length>0?" "+c:c);continue}x=!1}const R=p.length===0?"":p.length===1?p[0]:i(p).join(":"),L=h?R+_r:R,q=L+S;if(s.indexOf(q)>-1)continue;s.push(q);const X=o(S,x);for(let j=0;j<X.length;++j){const pe=X[j];s.push(L+pe)}c=f+(c.length>0?" "+c:c)}return c},bu=(...t)=>{let e=0,r,n,o="";for(;e<t.length;)(r=t[e++])&&(n=Vo(r))&&(o&&(o+=" "),o+=n);return o},Vo=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Vo(t[n]))&&(r&&(r+=" "),r+=e);return r},vu=(t,...e)=>{let r,n,o,i;const s=c=>{const l=e.reduce((f,u)=>u(f),t());return r=gu(l),n=r.cache.get,o=r.cache.set,i=a,a(c)},a=c=>{const l=n(c);if(l)return l;const f=yu(c,r);return o(c,f),f};return i=s,(...c)=>i(bu(...c))},wu=[],E=t=>{const e=r=>r[t]||wu;return e.isThemeGetter=!0,e},jo=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Bo=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_u=/^\d+\/\d+$/,xu=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ku=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Su=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,$u=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Cu=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Me=t=>_u.test(t),$=t=>!!t&&!Number.isNaN(Number(t)),fe=t=>!!t&&Number.isInteger(Number(t)),xr=t=>t.endsWith("%")&&$(t.slice(0,-1)),le=t=>xu.test(t),Ru=()=>!0,Tu=t=>ku.test(t)&&!Su.test(t),Do=()=>!1,Pu=t=>$u.test(t),Au=t=>Cu.test(t),Nu=t=>!m(t)&&!y(t),Iu=t=>Ee(t,Ko,Do),m=t=>jo.test(t),we=t=>Ee(t,Xo,Tu),kr=t=>Ee(t,Lu,$),Wo=t=>Ee(t,Ho,Do),Mu=t=>Ee(t,Jo,Au),xt=t=>Ee(t,Zo,Pu),y=t=>Bo.test(t),nt=t=>qe(t,Xo),Eu=t=>qe(t,Uu),Go=t=>qe(t,Ho),qu=t=>qe(t,Ko),Ou=t=>qe(t,Jo),kt=t=>qe(t,Zo,!0),Ee=(t,e,r)=>{const n=jo.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},qe=(t,e,r=!1)=>{const n=Bo.exec(t);return n?n[1]?e(n[1]):r:!1},Ho=t=>t==="position"||t==="percentage",Jo=t=>t==="image"||t==="url",Ko=t=>t==="length"||t==="size"||t==="bg-size",Xo=t=>t==="length",Lu=t=>t==="number",Uu=t=>t==="family-name",Zo=t=>t==="shadow",zu=vu(()=>{const t=E("color"),e=E("font"),r=E("text"),n=E("font-weight"),o=E("tracking"),i=E("leading"),s=E("breakpoint"),a=E("container"),c=E("spacing"),l=E("radius"),f=E("shadow"),u=E("inset-shadow"),p=E("text-shadow"),h=E("drop-shadow"),g=E("blur"),_=E("perspective"),x=E("aspect"),S=E("ease"),R=E("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],X=()=>[...q(),y,m],j=()=>["auto","hidden","clip","visible","scroll"],pe=()=>["auto","contain","none"],v=()=>[y,m,c],U=()=>[Me,"full","auto",...v()],Le=()=>[fe,"none","subgrid",y,m],B=()=>["auto",{span:["full",fe,y,m]},fe,y,m],Z=()=>[fe,"auto",y,m],oi=()=>["auto","min","max","fr",y,m],Sr=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ue=()=>["start","end","center","stretch","center-safe","end-safe"],ue=()=>["auto",...v()],_e=()=>[Me,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],w=()=>[t,y,m],ii=()=>[...q(),Go,Wo,{position:[y,m]}],si=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ai=()=>["auto","cover","contain",qu,Iu,{size:[y,m]}],$r=()=>[xr,nt,we],z=()=>["","none","full",l,y,m],D=()=>["",$,nt,we],$t=()=>["solid","dashed","dotted","double"],ci=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>[$,xr,Go,Wo],li=()=>["","none",g,y,m],Ct=()=>["none",$,y,m],Rt=()=>["none",$,y,m],Cr=()=>[$,y,m],Tt=()=>[Me,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[le],breakpoint:[le],color:[Ru],container:[le],"drop-shadow":[le],ease:["in","out","in-out"],font:[Nu],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[le],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[le],shadow:[le],spacing:["px",$],text:[le],"text-shadow":[le],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Me,m,y,x]}],container:["container"],columns:[{columns:[$,m,y,a]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:X()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:pe()}],"overscroll-x":[{"overscroll-x":pe()}],"overscroll-y":[{"overscroll-y":pe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[fe,"auto",y,m]}],basis:[{basis:[Me,"full","auto",a,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$,Me,"auto","initial","none",m]}],grow:[{grow:["",$,y,m]}],shrink:[{shrink:["",$,y,m]}],order:[{order:[fe,"first","last","none",y,m]}],"grid-cols":[{"grid-cols":Le()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":Le()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":oi()}],"auto-rows":[{"auto-rows":oi()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:[...Sr(),"normal"]}],"justify-items":[{"justify-items":[...Ue(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ue()]}],"align-content":[{content:["normal",...Sr()]}],"align-items":[{items:[...Ue(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ue(),{baseline:["","last"]}]}],"place-content":[{"place-content":Sr()}],"place-items":[{"place-items":[...Ue(),"baseline"]}],"place-self":[{"place-self":["auto",...Ue()]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:ue()}],mx:[{mx:ue()}],my:[{my:ue()}],ms:[{ms:ue()}],me:[{me:ue()}],mt:[{mt:ue()}],mr:[{mr:ue()}],mb:[{mb:ue()}],ml:[{ml:ue()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:_e()}],w:[{w:[a,"screen",..._e()]}],"min-w":[{"min-w":[a,"screen","none",..._e()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},..._e()]}],h:[{h:["screen","lh",..._e()]}],"min-h":[{"min-h":["screen","lh","none",..._e()]}],"max-h":[{"max-h":["screen","lh",..._e()]}],"font-size":[{text:["base",r,nt,we]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,y,kr]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",xr,m]}],"font-family":[{font:[Eu,m,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,y,m]}],"line-clamp":[{"line-clamp":[$,"none",y,kr]}],leading:[{leading:[i,...v()]}],"list-image":[{"list-image":["none",y,m]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",y,m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:w()}],"text-color":[{text:w()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$t(),"wavy"]}],"text-decoration-thickness":[{decoration:[$,"from-font","auto",y,we]}],"text-decoration-color":[{decoration:w()}],"underline-offset":[{"underline-offset":[$,"auto",y,m]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",y,m]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",y,m]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ii()}],"bg-repeat":[{bg:si()}],"bg-size":[{bg:ai()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fe,y,m],radial:["",y,m],conic:[fe,y,m]},Ou,Mu]}],"bg-color":[{bg:w()}],"gradient-from-pos":[{from:$r()}],"gradient-via-pos":[{via:$r()}],"gradient-to-pos":[{to:$r()}],"gradient-from":[{from:w()}],"gradient-via":[{via:w()}],"gradient-to":[{to:w()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...$t(),"hidden","none"]}],"divide-style":[{divide:[...$t(),"hidden","none"]}],"border-color":[{border:w()}],"border-color-x":[{"border-x":w()}],"border-color-y":[{"border-y":w()}],"border-color-s":[{"border-s":w()}],"border-color-e":[{"border-e":w()}],"border-color-t":[{"border-t":w()}],"border-color-r":[{"border-r":w()}],"border-color-b":[{"border-b":w()}],"border-color-l":[{"border-l":w()}],"divide-color":[{divide:w()}],"outline-style":[{outline:[...$t(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$,y,m]}],"outline-w":[{outline:["",$,nt,we]}],"outline-color":[{outline:w()}],shadow:[{shadow:["","none",f,kt,xt]}],"shadow-color":[{shadow:w()}],"inset-shadow":[{"inset-shadow":["none",u,kt,xt]}],"inset-shadow-color":[{"inset-shadow":w()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:w()}],"ring-offset-w":[{"ring-offset":[$,we]}],"ring-offset-color":[{"ring-offset":w()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":w()}],"text-shadow":[{"text-shadow":["none",p,kt,xt]}],"text-shadow-color":[{"text-shadow":w()}],opacity:[{opacity:[$,y,m]}],"mix-blend":[{"mix-blend":[...ci(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ci()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$]}],"mask-image-linear-from-pos":[{"mask-linear-from":O()}],"mask-image-linear-to-pos":[{"mask-linear-to":O()}],"mask-image-linear-from-color":[{"mask-linear-from":w()}],"mask-image-linear-to-color":[{"mask-linear-to":w()}],"mask-image-t-from-pos":[{"mask-t-from":O()}],"mask-image-t-to-pos":[{"mask-t-to":O()}],"mask-image-t-from-color":[{"mask-t-from":w()}],"mask-image-t-to-color":[{"mask-t-to":w()}],"mask-image-r-from-pos":[{"mask-r-from":O()}],"mask-image-r-to-pos":[{"mask-r-to":O()}],"mask-image-r-from-color":[{"mask-r-from":w()}],"mask-image-r-to-color":[{"mask-r-to":w()}],"mask-image-b-from-pos":[{"mask-b-from":O()}],"mask-image-b-to-pos":[{"mask-b-to":O()}],"mask-image-b-from-color":[{"mask-b-from":w()}],"mask-image-b-to-color":[{"mask-b-to":w()}],"mask-image-l-from-pos":[{"mask-l-from":O()}],"mask-image-l-to-pos":[{"mask-l-to":O()}],"mask-image-l-from-color":[{"mask-l-from":w()}],"mask-image-l-to-color":[{"mask-l-to":w()}],"mask-image-x-from-pos":[{"mask-x-from":O()}],"mask-image-x-to-pos":[{"mask-x-to":O()}],"mask-image-x-from-color":[{"mask-x-from":w()}],"mask-image-x-to-color":[{"mask-x-to":w()}],"mask-image-y-from-pos":[{"mask-y-from":O()}],"mask-image-y-to-pos":[{"mask-y-to":O()}],"mask-image-y-from-color":[{"mask-y-from":w()}],"mask-image-y-to-color":[{"mask-y-to":w()}],"mask-image-radial":[{"mask-radial":[y,m]}],"mask-image-radial-from-pos":[{"mask-radial-from":O()}],"mask-image-radial-to-pos":[{"mask-radial-to":O()}],"mask-image-radial-from-color":[{"mask-radial-from":w()}],"mask-image-radial-to-color":[{"mask-radial-to":w()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":q()}],"mask-image-conic-pos":[{"mask-conic":[$]}],"mask-image-conic-from-pos":[{"mask-conic-from":O()}],"mask-image-conic-to-pos":[{"mask-conic-to":O()}],"mask-image-conic-from-color":[{"mask-conic-from":w()}],"mask-image-conic-to-color":[{"mask-conic-to":w()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ii()}],"mask-repeat":[{mask:si()}],"mask-size":[{mask:ai()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",y,m]}],filter:[{filter:["","none",y,m]}],blur:[{blur:li()}],brightness:[{brightness:[$,y,m]}],contrast:[{contrast:[$,y,m]}],"drop-shadow":[{"drop-shadow":["","none",h,kt,xt]}],"drop-shadow-color":[{"drop-shadow":w()}],grayscale:[{grayscale:["",$,y,m]}],"hue-rotate":[{"hue-rotate":[$,y,m]}],invert:[{invert:["",$,y,m]}],saturate:[{saturate:[$,y,m]}],sepia:[{sepia:["",$,y,m]}],"backdrop-filter":[{"backdrop-filter":["","none",y,m]}],"backdrop-blur":[{"backdrop-blur":li()}],"backdrop-brightness":[{"backdrop-brightness":[$,y,m]}],"backdrop-contrast":[{"backdrop-contrast":[$,y,m]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$,y,m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$,y,m]}],"backdrop-invert":[{"backdrop-invert":["",$,y,m]}],"backdrop-opacity":[{"backdrop-opacity":[$,y,m]}],"backdrop-saturate":[{"backdrop-saturate":[$,y,m]}],"backdrop-sepia":[{"backdrop-sepia":["",$,y,m]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",y,m]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$,"initial",y,m]}],ease:[{ease:["linear","initial",S,y,m]}],delay:[{delay:[$,y,m]}],animate:[{animate:["none",R,y,m]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,y,m]}],"perspective-origin":[{"perspective-origin":X()}],rotate:[{rotate:Ct()}],"rotate-x":[{"rotate-x":Ct()}],"rotate-y":[{"rotate-y":Ct()}],"rotate-z":[{"rotate-z":Ct()}],scale:[{scale:Rt()}],"scale-x":[{"scale-x":Rt()}],"scale-y":[{"scale-y":Rt()}],"scale-z":[{"scale-z":Rt()}],"scale-3d":["scale-3d"],skew:[{skew:Cr()}],"skew-x":[{"skew-x":Cr()}],"skew-y":[{"skew-y":Cr()}],transform:[{transform:[y,m,"","none","gpu","cpu"]}],"transform-origin":[{origin:X()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Tt()}],"translate-x":[{"translate-x":Tt()}],"translate-y":[{"translate-y":Tt()}],"translate-z":[{"translate-z":Tt()}],"translate-none":["translate-none"],accent:[{accent:w()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:w()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",y,m]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",y,m]}],fill:[{fill:["none",...w()]}],"stroke-w":[{stroke:[$,nt,we,kr]}],stroke:[{stroke:["none",...w()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function Oe(...t){return zu(Mo(t))}const Qu=Zl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function St({className:t,variant:e,size:r,asChild:n=!1,...o}){return d(n?Wl:"button",{"data-slot":"button",className:Oe(Qu({variant:e,size:r,className:t})),...o})}function Fu({organizationSlug:t,ssoToken:e}){const[r,n]=W(""),[o,i]=W(""),[s,a]=W(!1),c=na(gr.widget.createWidgetIdea),l=async f=>{if(f.preventDefault(),!(!o||!r))try{await c({organizationSlug:t,title:r,description:o,ssoToken:e}),a(!0),n(""),i("")}catch(u){console.error("Failed to create idea:",u)}};return s?d("div",{className:"animate-in fade-in zoom-in-95 flex flex-1 flex-col items-center justify-center gap-4 p-6 text-center duration-200",children:[d("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-100 text-green-600",children:d(Ll,{className:"h-6 w-6"})}),d("div",{className:"space-y-1",children:[d("h3",{className:"text-xl font-semibold",children:"Thanks for your feedback!"}),d("p",{className:"text-muted-foreground text-sm",children:"We appreciate your input and will review it shortly."})]}),d(St,{variant:"outline",onClick:()=>a(!1),className:"mt-4",children:"Submit another idea"})]}):d("div",{className:"flex flex-1 flex-col",children:[d("div",{className:"border-b px-6 pb-6",children:[d("h2",{className:"text-2xl font-bold",children:"Tell us your ideas"}),d("p",{className:"text-muted-foreground",children:"We'd love to hear them"})]}),d("form",{onSubmit:l,className:"flex flex-1 flex-col pb-6",children:[d("textarea",{"aria-label":"Idea title",placeholder:"Title of your idea...",value:r,onChange:f=>n(f.target.value),className:"placeholder:text-muted-foreground field-sizing-content w-full resize-none text-base outline-none md:text-sm px-6 border-b py-6",required:!0}),d("textarea",{"aria-label":"Idea description",placeholder:"Type your idea here...",value:o,onChange:f=>i(f.target.value),className:"placeholder:text-muted-foreground field-sizing-content w-full resize-none text-base outline-none md:text-sm px-6 py-6",required:!0}),o.length>0&&r.length>0&&d("div",{className:"animate-in fade-in mt-auto duration-200 px-6 pt-2",children:d(St,{type:"submit",className:"w-full",disabled:!o||!r,children:"Submit Idea"})})]})]})}const Vu=({children:t,className:e,shimmerWidth:r=100,...n})=>d("span",{style:{"--shiny-width":`${r}px`},className:Oe("mx-auto max-w-md text-neutral-600/70 dark:text-neutral-400/70","animate-shiny-text bg-size-[var(--shiny-width)_100%] bg-clip-text bg-position-[0_0] bg-no-repeat [transition:background-position_1s_cubic-bezier(.6,.6,0,1)_infinite]","bg-linear-to-r from-transparent via-black/80 via-50% to-transparent dark:via-white/80",e),...n,children:t});function Yo({className:t,...e}){return d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1930 1680",className:Oe("aspect-193/168 text-current fill-current",t),...e,children:d("path",{d:"M845 1582 c-55 -32 -134 -81 -176 -109 -319 -216 -552 -506 -620 -771 -23 -90 -25 -243 -5 -319 62 -234 255 -379 496 -374 138 2 248 39 350 118 l66 50 37 -32 c53 -46 160 -100 237 -121 170 -45 359 2 479 117 161 155 217 411 141 641 -76 228 -283 468 -590 685 -106 75 -275 173 -298 173 -9 0 -62 -26 -117 -58z m217 -178 c354 -224 594 -485 652 -710 56 -217 -45 -442 -226 -503 -133 -45 -299 -10 -400 83 l-37 34 30 77 c97 248 72 457 -62 525 -123 64 -245 -27 -256 -190 -6 -81 27 -247 67 -342 l28 -68 -40 -36 c-109 -98 -313 -133 -443 -75 -146 65 -225 258 -181 446 62 262 303 541 651 754 55 33 106 61 114 61 8 0 54 -25 103 -56z m-82 -685 c16 -60 -16 -261 -34 -209 -22 67 -35 228 -19 243 19 20 43 5 53 -34z"})})}function ju({children:t,activeTab:e,onTabChange:r,onClose:n,showThoughtbaseBranding:o=!0}){return d("div",{className:"bg-background text-foreground animate-in slide-in-from-bottom-4 fade-in fixed top-4 right-4 bottom-4 z-50 flex w-[380px] flex-col overflow-hidden rounded-2xl border shadow-2xl duration-100","data-testid":"thoughtbase-widget",children:[d("div",{className:"flex flex-1 grow flex-col overflow-hidden",children:[d("div",{className:"flex items-center justify-end px-4 py-4",children:d(St,{"aria-label":"Close",variant:"outline",size:"icon",className:"size-7",onClick:n,type:"button",children:d(Ql,{})})}),t]}),d("div",{className:"bg-muted/20 border-t p-2",children:d("div",{className:"flex justify-around",children:[d("button",{onClick:()=>r("feedback"),type:"button",className:Oe("hover:bg-muted flex flex-col items-center gap-1 rounded-lg p-2 text-xs font-medium transition-colors",e==="feedback"?"text-foreground":"text-muted-foreground"),children:[d(Yo,{className:"size-5"}),"Ideas"]}),d("button",{onClick:()=>r("roadmap"),type:"button",className:Oe("hover:bg-muted flex flex-col items-center gap-1 rounded-lg p-2 text-xs font-medium transition-colors",e==="roadmap"?"text-foreground":"text-muted-foreground"),children:[d(zl,{className:"h-5 w-5"}),"Roadmap"]}),d("button",{onClick:()=>r("updates"),type:"button",className:Oe("hover:bg-muted flex flex-col items-center gap-1 rounded-lg p-2 text-xs font-medium transition-colors",e==="updates"?"text-foreground":"text-muted-foreground"),children:[d(Ul,{className:"h-5 w-5"}),"Updates"]})]})}),o&&d("div",{className:"text-xs text-muted-foreground text-center py-2 bg-muted/20 border-t",children:["Powered by"," ",d(Vu,{children:d("a",{href:"https://thoughtbase.app",className:"font-medium",children:"Thoughtbase"})})]})]})}function Bu({organizationSlug:t,isOpen:e,onClose:r,ssoToken:n,thoughtbaseBranding:o=!0}){const[i,s]=useState("feedback");return e?d(ju,{activeTab:i,onTabChange:s,onClose:r,showThoughtbaseBranding:o,children:[i==="feedback"&&d(Fu,{organizationSlug:t,ssoToken:n}),i==="roadmap"&&d(Fl,{organizationSlug:t,ssoToken:n}),i==="updates"&&d(Nl,{organizationSlug:t})]}):null}const Du=`/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-space-y-reverse:0;--tw-divide-y-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-outline-style:solid;--tw-duration:initial;--tw-animation-delay:0s;--tw-animation-direction:normal;--tw-animation-duration:initial;--tw-animation-fill-mode:none;--tw-animation-iteration-count:1;--tw-enter-blur:0;--tw-enter-opacity:1;--tw-enter-rotate:0;--tw-enter-scale:1;--tw-enter-translate-x:0;--tw-enter-translate-y:0;--tw-exit-blur:0;--tw-exit-opacity:1;--tw-exit-rotate:0;--tw-exit-scale:1;--tw-exit-translate-x:0;--tw-exit-translate-y:0}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-green-100:oklch(96.2% .044 156.743);--color-green-600:oklch(62.7% .194 149.214);--color-blue-100:oklch(93.2% .032 255.585);--color-blue-500:oklch(62.3% .214 259.815);--color-purple-100:oklch(94.6% .033 307.174);--color-purple-500:oklch(62.7% .265 303.9);--color-neutral-400:oklch(70.8% 0 0);--color-neutral-600:oklch(43.9% 0 0);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-md:28rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--font-weight-light:300;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--tracking-widest:.1em;--leading-tight:1.25;--leading-relaxed:1.625;--radius-2xl:1rem;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono);--radius:.625rem;--background:oklch(100% 0 0);--foreground:oklch(14.1% .005 285.823);--card:oklch(100% 0 0);--card-foreground:oklch(14.1% .005 285.823);--popover:oklch(100% 0 0);--popover-foreground:oklch(14.1% .005 285.823);--primary:oklch(21% .006 285.885);--primary-foreground:oklch(98.5% 0 0);--secondary:oklch(96.7% .001 286.375);--secondary-foreground:oklch(21% .006 285.885);--muted:oklch(96.7% .001 286.375);--muted-foreground:oklch(55.2% .016 285.938);--accent:oklch(96.7% .001 286.375);--accent-foreground:oklch(21% .006 285.885);--destructive:oklch(57.7% .245 27.325);--border:oklch(92% .004 286.32);--input:oklch(92% .004 286.32);--ring:oklch(70.5% .015 286.067);--chart-1:oklch(64.6% .222 41.116);--chart-2:oklch(60% .118 184.704);--chart-3:oklch(39.8% .07 227.392);--chart-4:oklch(82.8% .189 84.429);--chart-5:oklch(76.9% .188 70.08);--sidebar:oklch(98.5% 0 0);--sidebar-foreground:oklch(14.1% .005 285.823);--sidebar-primary:oklch(21% .006 285.885);--sidebar-primary-foreground:oklch(98.5% 0 0);--sidebar-accent:oklch(96.7% .001 286.375);--sidebar-accent-foreground:oklch(21% .006 285.885);--sidebar-border:oklch(92% .004 286.32);--sidebar-ring:oklch(70.5% .015 286.067)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}*{border-color:var(--border);outline-color:#9f9fa980}@supports (color:color-mix(in lab,red,red)){*{outline-color:color-mix(in oklab,var(--ring)50%,transparent)}}:host{background-color:var(--background);color:var(--foreground)}button:not(:disabled),[role=button]:not(:disabled){cursor:pointer}}@layer components;@layer utilities{.fixed{position:fixed}.relative{position:relative}.static{position:static}.top-4{top:calc(var(--spacing)*4)}.right-4{right:calc(var(--spacing)*4)}.bottom-4{bottom:calc(var(--spacing)*4)}.z-50{z-index:50}.container{width:100%}@media(min-width:40rem){.container{max-width:40rem}}@media(min-width:48rem){.container{max-width:48rem}}@media(min-width:64rem){.container{max-width:64rem}}@media(min-width:80rem){.container{max-width:80rem}}@media(min-width:96rem){.container{max-width:96rem}}.m-82{margin:calc(var(--spacing)*82)}.mx-auto{margin-inline:auto}.mt-0\\.5{margin-top:calc(var(--spacing)*.5)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-auto{margin-top:auto}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.ml-2\\.5{margin-left:calc(var(--spacing)*2.5)}.line-clamp-2{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.flex{display:flex}.inline-flex{display:inline-flex}.field-sizing-content{field-sizing:content}.aspect-193\\/168{aspect-ratio:193/168}.size-3{width:calc(var(--spacing)*3);height:calc(var(--spacing)*3)}.size-3\\.5{width:calc(var(--spacing)*3.5);height:calc(var(--spacing)*3.5)}.size-5{width:calc(var(--spacing)*5);height:calc(var(--spacing)*5)}.size-6{width:calc(var(--spacing)*6);height:calc(var(--spacing)*6)}.size-7{width:calc(var(--spacing)*7);height:calc(var(--spacing)*7)}.size-8{width:calc(var(--spacing)*8);height:calc(var(--spacing)*8)}.size-9{width:calc(var(--spacing)*9);height:calc(var(--spacing)*9)}.size-10{width:calc(var(--spacing)*10);height:calc(var(--spacing)*10)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-8{height:calc(var(--spacing)*8)}.h-9{height:calc(var(--spacing)*9)}.h-10{height:calc(var(--spacing)*10)}.h-12{height:calc(var(--spacing)*12)}.h-full{height:100%}.w-5{width:calc(var(--spacing)*5)}.w-6{width:calc(var(--spacing)*6)}.w-12{width:calc(var(--spacing)*12)}.w-\\[380px\\]{width:380px}.w-full{width:100%}.w-px{width:1px}.max-w-md{max-width:var(--container-md)}.min-w-0{min-width:calc(var(--spacing)*0)}.flex-1{flex:1}.shrink-0{flex-shrink:0}.grow{flex-grow:1}.-translate-x-1\\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.animate-in{animation:enter var(--tw-animation-duration,var(--tw-duration,.15s))var(--tw-ease,ease)var(--tw-animation-delay,0s)var(--tw-animation-iteration-count,1)var(--tw-animation-direction,normal)var(--tw-animation-fill-mode,none)}.animate-shiny-text{animation:8s infinite shiny-text}.cursor-pointer{cursor:pointer}.resize-none{resize:none}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-around{justify-content:space-around}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.divide-y>:not(:last-child)){--tw-divide-y-reverse:0;border-bottom-style:var(--tw-border-style);border-top-style:var(--tw-border-style);border-top-width:calc(1px*var(--tw-divide-y-reverse));border-bottom-width:calc(1px*calc(1 - var(--tw-divide-y-reverse)))}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius)}.rounded-md{border-radius:calc(var(--radius) - 2px)}.border{border-style:var(--tw-border-style);border-width:1px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-input{border-color:var(--input)}.bg-background{background-color:var(--background)}.bg-blue-100{background-color:var(--color-blue-100)}.bg-destructive{background-color:var(--destructive)}.bg-green-100{background-color:var(--color-green-100)}.bg-muted\\/20{background-color:#f4f4f533}@supports (color:color-mix(in lab,red,red)){.bg-muted\\/20{background-color:color-mix(in oklab,var(--muted)20%,transparent)}}.bg-primary{background-color:var(--primary)}.bg-purple-100{background-color:var(--color-purple-100)}.bg-secondary{background-color:var(--secondary)}.bg-transparent{background-color:#0000}.bg-linear-to-r{--tw-gradient-position:to right}@supports (background-image:linear-gradient(in lab,red,red)){.bg-linear-to-r{--tw-gradient-position:to right in oklab}}.bg-linear-to-r{background-image:linear-gradient(var(--tw-gradient-stops))}.from-transparent{--tw-gradient-from:transparent;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.via-black\\/80{--tw-gradient-via:#000c}@supports (color:color-mix(in lab,red,red)){.via-black\\/80{--tw-gradient-via:color-mix(in oklab,var(--color-black)80%,transparent)}}.via-black\\/80{--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.via-50\\%{--tw-gradient-via-position:50%}.to-transparent{--tw-gradient-to:transparent;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.bg-size-\\[var\\(--shiny-width\\)_100\\%\\]{background-size:var(--shiny-width)100%}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-position-\\[0_0\\]{background-position:0 0}.bg-no-repeat{background-repeat:no-repeat}.fill-current{fill:currentColor}.p-2{padding:calc(var(--spacing)*2)}.p-6{padding:calc(var(--spacing)*6)}.px-2\\.5{padding-inline:calc(var(--spacing)*2.5)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-6{padding-inline:calc(var(--spacing)*6)}.py-1{padding-block:calc(var(--spacing)*1)}.py-2{padding-block:calc(var(--spacing)*2)}.py-4{padding-block:calc(var(--spacing)*4)}.py-5{padding-block:calc(var(--spacing)*5)}.py-6{padding-block:calc(var(--spacing)*6)}.py-8{padding-block:calc(var(--spacing)*8)}.py-12{padding-block:calc(var(--spacing)*12)}.pt-2{padding-top:calc(var(--spacing)*2)}.pt-6{padding-top:calc(var(--spacing)*6)}.pb-2{padding-bottom:calc(var(--spacing)*2)}.pb-5{padding-bottom:calc(var(--spacing)*5)}.pb-6{padding-bottom:calc(var(--spacing)*6)}.text-center{text-align:center}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\\[10px\\]{font-size:10px}.leading-none{--tw-leading:1;line-height:1}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.leading-tight{--tw-leading:var(--leading-tight);line-height:var(--leading-tight)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-light{--tw-font-weight:var(--font-weight-light);font-weight:var(--font-weight-light)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-widest{--tw-tracking:var(--tracking-widest);letter-spacing:var(--tracking-widest)}.whitespace-nowrap{white-space:nowrap}.text-blue-500{color:var(--color-blue-500)}.text-current{color:currentColor}.text-foreground{color:var(--foreground)}.text-green-600{color:var(--color-green-600)}.text-muted-foreground{color:var(--muted-foreground)}.text-neutral-600\\/70{color:#525252b3}@supports (color:color-mix(in lab,red,red)){.text-neutral-600\\/70{color:color-mix(in oklab,var(--color-neutral-600)70%,transparent)}}.text-primary{color:var(--primary)}.text-primary-foreground{color:var(--primary-foreground)}.text-purple-500{color:var(--color-purple-500)}.text-secondary-foreground{color:var(--secondary-foreground)}.text-white{color:var(--color-white)}.uppercase{text-transform:uppercase}.underline-offset-4{text-underline-offset:4px}.shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-2xl{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xs{--tw-shadow:0 1px 2px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.outline{outline-style:var(--tw-outline-style);outline-width:1px}.transition-\\[color\\,box-shadow\\]{transition-property:color,box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-100{--tw-duration:.1s;transition-duration:.1s}.duration-200{--tw-duration:.2s;transition-duration:.2s}.outline-none{--tw-outline-style:none;outline-style:none}.select-none{-webkit-user-select:none;user-select:none}.zoom-in-95{--tw-enter-scale:.95}.\\[transition\\:background-position_1s_cubic-bezier\\(\\.6\\,\\.6\\,0\\,1\\)_infinite\\]{transition:background-position 1s cubic-bezier(.6,.6,0,1)infinite}.fade-in{--tw-enter-opacity:0}.slide-in-from-bottom-4{--tw-enter-translate-y:calc(4*var(--spacing))}.group-data-\\[disabled\\=true\\]\\:pointer-events-none:is(:where(.group)[data-disabled=true] *){pointer-events:none}.group-data-\\[disabled\\=true\\]\\:opacity-50:is(:where(.group)[data-disabled=true] *){opacity:.5}.peer-disabled\\:cursor-not-allowed:is(:where(.peer):disabled~*){cursor:not-allowed}.peer-disabled\\:opacity-50:is(:where(.peer):disabled~*){opacity:.5}.file\\:inline-flex::file-selector-button{display:inline-flex}.file\\:h-7::file-selector-button{height:calc(var(--spacing)*7)}.file\\:border-0::file-selector-button{border-style:var(--tw-border-style);border-width:0}.file\\:bg-transparent::file-selector-button{background-color:#0000}.file\\:text-sm::file-selector-button{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.file\\:font-medium::file-selector-button{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.file\\:text-foreground::file-selector-button{color:var(--foreground)}.placeholder\\:text-muted-foreground::placeholder{color:var(--muted-foreground)}@media(hover:hover){.hover\\:bg-accent:hover{background-color:var(--accent)}.hover\\:bg-destructive\\/90:hover{background-color:#e40014e6}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-destructive\\/90:hover{background-color:color-mix(in oklab,var(--destructive)90%,transparent)}}.hover\\:bg-muted:hover{background-color:var(--muted)}.hover\\:bg-primary\\/90:hover{background-color:#18181be6}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-primary\\/90:hover{background-color:color-mix(in oklab,var(--primary)90%,transparent)}}.hover\\:bg-secondary\\/80:hover{background-color:#f4f4f5cc}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-secondary\\/80:hover{background-color:color-mix(in oklab,var(--secondary)80%,transparent)}}.hover\\:text-accent-foreground:hover{color:var(--accent-foreground)}.hover\\:underline:hover{text-decoration-line:underline}}.focus-visible\\:border-ring:focus-visible{border-color:var(--ring)}.focus-visible\\:ring-\\[3px\\]:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(3px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus-visible\\:ring-destructive\\/20:focus-visible{--tw-ring-color:#e4001433}@supports (color:color-mix(in lab,red,red)){.focus-visible\\:ring-destructive\\/20:focus-visible{--tw-ring-color:color-mix(in oklab,var(--destructive)20%,transparent)}}.focus-visible\\:ring-ring\\/50:focus-visible{--tw-ring-color:#9f9fa980}@supports (color:color-mix(in lab,red,red)){.focus-visible\\:ring-ring\\/50:focus-visible{--tw-ring-color:color-mix(in oklab,var(--ring)50%,transparent)}}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.has-\\[\\>svg\\]\\:px-2\\.5:has(>svg){padding-inline:calc(var(--spacing)*2.5)}.has-\\[\\>svg\\]\\:px-3:has(>svg){padding-inline:calc(var(--spacing)*3)}.has-\\[\\>svg\\]\\:px-4:has(>svg){padding-inline:calc(var(--spacing)*4)}.aria-invalid\\:border-destructive[aria-invalid=true]{border-color:var(--destructive)}.aria-invalid\\:ring-\\[3px\\][aria-invalid=true]{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(3px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.aria-invalid\\:ring-destructive\\/20[aria-invalid=true]{--tw-ring-color:#e4001433}@supports (color:color-mix(in lab,red,red)){.aria-invalid\\:ring-destructive\\/20[aria-invalid=true]{--tw-ring-color:color-mix(in oklab,var(--destructive)20%,transparent)}}@media(min-width:48rem){.md\\:text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}}.dark\\:border-input:is(.dark *){border-color:var(--input)}.dark\\:bg-destructive\\/60:is(.dark *){background-color:#e4001499}@supports (color:color-mix(in lab,red,red)){.dark\\:bg-destructive\\/60:is(.dark *){background-color:color-mix(in oklab,var(--destructive)60%,transparent)}}.dark\\:bg-input\\/30:is(.dark *){background-color:#e4e4e74d}@supports (color:color-mix(in lab,red,red)){.dark\\:bg-input\\/30:is(.dark *){background-color:color-mix(in oklab,var(--input)30%,transparent)}}.dark\\:via-white\\/80:is(.dark *){--tw-gradient-via:#fffc}@supports (color:color-mix(in lab,red,red)){.dark\\:via-white\\/80:is(.dark *){--tw-gradient-via:color-mix(in oklab,var(--color-white)80%,transparent)}}.dark\\:via-white\\/80:is(.dark *){--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.dark\\:text-neutral-400\\/70:is(.dark *){color:#a1a1a1b3}@supports (color:color-mix(in lab,red,red)){.dark\\:text-neutral-400\\/70:is(.dark *){color:color-mix(in oklab,var(--color-neutral-400)70%,transparent)}}@media(hover:hover){.dark\\:hover\\:bg-accent\\/50:is(.dark *):hover{background-color:#f4f4f580}@supports (color:color-mix(in lab,red,red)){.dark\\:hover\\:bg-accent\\/50:is(.dark *):hover{background-color:color-mix(in oklab,var(--accent)50%,transparent)}}.dark\\:hover\\:bg-input\\/50:is(.dark *):hover{background-color:#e4e4e780}@supports (color:color-mix(in lab,red,red)){.dark\\:hover\\:bg-input\\/50:is(.dark *):hover{background-color:color-mix(in oklab,var(--input)50%,transparent)}}}.dark\\:focus-visible\\:ring-destructive\\/40:is(.dark *):focus-visible{--tw-ring-color:#e4001466}@supports (color:color-mix(in lab,red,red)){.dark\\:focus-visible\\:ring-destructive\\/40:is(.dark *):focus-visible{--tw-ring-color:color-mix(in oklab,var(--destructive)40%,transparent)}}.dark\\:aria-invalid\\:border-destructive\\/50:is(.dark *)[aria-invalid=true]{border-color:#e4001480}@supports (color:color-mix(in lab,red,red)){.dark\\:aria-invalid\\:border-destructive\\/50:is(.dark *)[aria-invalid=true]{border-color:color-mix(in oklab,var(--destructive)50%,transparent)}}.dark\\:aria-invalid\\:ring-destructive\\/40:is(.dark *)[aria-invalid=true]{--tw-ring-color:#e4001466}@supports (color:color-mix(in lab,red,red)){.dark\\:aria-invalid\\:ring-destructive\\/40:is(.dark *)[aria-invalid=true]{--tw-ring-color:color-mix(in oklab,var(--destructive)40%,transparent)}}.\\[\\&_svg\\]\\:pointer-events-none svg{pointer-events:none}.\\[\\&_svg\\]\\:shrink-0 svg{flex-shrink:0}.\\[\\&_svg\\:not\\(\\[class\\*\\=\\'size-\\'\\]\\)\\]\\:size-4 svg:not([class*=size-]){width:calc(var(--spacing)*4);height:calc(var(--spacing)*4)}}@property --tw-animation-delay{syntax:"*";inherits:false;initial-value:0s}@property --tw-animation-direction{syntax:"*";inherits:false;initial-value:normal}@property --tw-animation-duration{syntax:"*";inherits:false}@property --tw-animation-fill-mode{syntax:"*";inherits:false;initial-value:none}@property --tw-animation-iteration-count{syntax:"*";inherits:false;initial-value:1}@property --tw-enter-blur{syntax:"*";inherits:false;initial-value:0}@property --tw-enter-opacity{syntax:"*";inherits:false;initial-value:1}@property --tw-enter-rotate{syntax:"*";inherits:false;initial-value:0}@property --tw-enter-scale{syntax:"*";inherits:false;initial-value:1}@property --tw-enter-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-enter-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-blur{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-opacity{syntax:"*";inherits:false;initial-value:1}@property --tw-exit-rotate{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-scale{syntax:"*";inherits:false;initial-value:1}@property --tw-exit-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-translate-y{syntax:"*";inherits:false;initial-value:0}.dark{--background:oklch(14.1% .005 285.823);--foreground:oklch(98.5% 0 0);--card:oklch(21% .006 285.885);--card-foreground:oklch(98.5% 0 0);--popover:oklch(21% .006 285.885);--popover-foreground:oklch(98.5% 0 0);--primary:oklch(92% .004 286.32);--primary-foreground:oklch(21% .006 285.885);--secondary:oklch(27.4% .006 286.033);--secondary-foreground:oklch(98.5% 0 0);--muted:oklch(27.4% .006 286.033);--muted-foreground:oklch(70.5% .015 286.067);--accent:oklch(27.4% .006 286.033);--accent-foreground:oklch(98.5% 0 0);--destructive:oklch(70.4% .191 22.216);--border:oklch(100% 0 0/.1);--input:oklch(100% 0 0/.15);--ring:oklch(55.2% .016 285.938);--chart-1:oklch(48.8% .243 264.376);--chart-2:oklch(69.6% .17 162.48);--chart-3:oklch(76.9% .188 70.08);--chart-4:oklch(62.7% .265 303.9);--chart-5:oklch(64.5% .246 16.439);--sidebar:oklch(21% .006 285.885);--sidebar-foreground:oklch(98.5% 0 0);--sidebar-primary:oklch(48.8% .243 264.376);--sidebar-primary-foreground:oklch(98.5% 0 0);--sidebar-accent:oklch(27.4% .006 286.033);--sidebar-accent-foreground:oklch(98.5% 0 0);--sidebar-border:oklch(100% 0 0/.1);--sidebar-ring:oklch(55.2% .016 285.938)}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-divide-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-duration{syntax:"*";inherits:false}@keyframes enter{0%{opacity:var(--tw-enter-opacity,1);transform:translate3d(var(--tw-enter-translate-x,0),var(--tw-enter-translate-y,0),0)scale3d(var(--tw-enter-scale,1),var(--tw-enter-scale,1),var(--tw-enter-scale,1))rotate(var(--tw-enter-rotate,0));filter:blur(var(--tw-enter-blur,0))}}@keyframes shiny-text{0%,90%,to{background-position:calc(-100% - var(--shiny-width))0}30%,60%{background-position:calc(100% + var(--shiny-width))0}}`;function ei({organizationSlug:t,selector:e,thoughtbaseBranding:r,convexUrl:n,ssoToken:o}){const[i,s]=W(!1),[a,c]=W(o),l=new ea(n);de(()=>{window.__setWidgetToken=c},[]),de(()=>{if(e){const u=document.querySelectorAll(e),p=h=>{h.preventDefault(),s(!0)};return u.forEach(h=>h.addEventListener("click",p)),()=>{u.forEach(h=>h.removeEventListener("click",p))}}},[e]);const f=Du.replaceAll(":root",":host").replaceAll("body",":host");return d(ra,{client:l,children:[d("style",{children:f}),!e&&!i&&d(St,{onClick:()=>s(!0),className:"fixed right-4 bottom-4 z-50",children:[d(Yo,{className:"size-6"}),"Submit Feedback"]}),d(Bu,{organizationSlug:t,isOpen:i,onClose:()=>s(!1),ssoToken:a,thoughtbaseBranding:r})]})}let ti=null;function ri(t){ti=t.organizationSlug;const e="feedback-widget-container";if(document.getElementById(e))return;const r=t.convexUrl||typeof window<"u"&&window.__THOUGHTBASE_CONVEX_URL||"";if(!r){console.error("Feedback Widget: convexUrl is required. Please provide it in the config or set window.__THOUGHTBASE_CONVEX_URL");return}const n=document.createElement("div");n.id=e,document.body.appendChild(n);const o=n.attachShadow({mode:"open"});da.createRoot(o).render(d(ei,{...t,convexUrl:r}))}function ni(t){if(!ti){console.error("Feedback Widget: Initialize widget before calling identify");return}window.__setWidgetToken&&window.__setWidgetToken(t)}return typeof window<"u"&&(window.thoughtbase={identify:ni,initWidget:ri}),ze.WidgetContainer=ei,ze.identify=ni,ze.initFeedbackWidget=ri,Object.defineProperty(ze,Symbol.toStringTag,{value:"Module"}),ze})({});
